<!-- BACKUP: Metadata section UI for potential future use -->
<!-- This was removed from FileEditor.svelte on 2025-12-23 -->

<!-- HTML markup: -->
<div class="metadata-section">
  <div class="metadata-row">
    <div class="metadata-field">
      <label for="title">Title:</label>
      <input
        id="title"
        type="text"
        bind:value={title}
        placeholder="Song title"
        on:keydown={handleKeydown}
      />
    </div>
    <div class="metadata-field">
      <label for="artist">Artist:</label>
      <input
        id="artist"
        type="text"
        bind:value={artist}
        placeholder="Artist/Composer"
        on:keydown={handleKeydown}
      />
    </div>
    <div class="metadata-field metadata-field-small">
      <label for="key">Key:</label>
      <input
        id="key"
        type="text"
        bind:value={key}
        placeholder="C, Am, etc."
        on:keydown={handleKeydown}
      />
    </div>
  </div>
  <div class="metadata-row">
    <div class="metadata-field metadata-field-full">
      <label for="info">Info:</label>
      <input
        id="info"
        type="text"
        bind:value={info}
        placeholder="Additional information"
        on:keydown={handleKeydown}
      />
    </div>
  </div>
</div>

<!-- CSS styles: -->
<style>
  .metadata-section {
    padding: 1rem;
    background-color: rgba(255, 255, 255, 0.03);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  }

  .metadata-row {
    display: flex;
    gap: 1rem;
    margin-bottom: 0.5rem;
  }

  .metadata-row:last-child {
    margin-bottom: 0;
  }

  .metadata-field {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    flex: 1;
  }

  .metadata-field-small {
    flex: 0 0 150px;
  }

  .metadata-field-full {
    flex: 1;
  }

  .metadata-field label {
    font-size: 14px;
    font-weight: 500;
    color: rgba(255, 255, 255, 0.7);
    white-space: nowrap;
    min-width: 60px;
  }

  .metadata-field input {
    flex: 1;
    padding: 0.5rem;
    background-color: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    color: rgba(255, 255, 255, 0.87);
    font-size: 14px;
    font-family: inherit;
    outline: none;
    transition: border-color 0.2s;
  }

  .metadata-field input:focus {
    border-color: #646cff;
    background-color: rgba(255, 255, 255, 0.08);
  }

  .metadata-field input::placeholder {
    color: rgba(255, 255, 255, 0.3);
  }
</style>

<!-- Script variables needed: -->
/*
  let title = fileConfig.defaultTitle;
  let artist = fileConfig.defaultArtist;
  let key = fileConfig.defaultKey;
  let info = fileConfig.defaultInfo;
*/

<!-- Logic for parsing and saving with metadata: -->
/*
  // Only sync when currentContent actually changes (new file loaded or saved)
  $: if ($fileStore.currentContent !== lastLoadedContent) {
    const parsed = parseMetadata($fileStore.currentContent);
    title = parsed.metadata.title;
    artist = parsed.metadata.artist;
    key = parsed.metadata.key;
    info = parsed.metadata.info;
    editedContent = parsed.contentWithoutMetadata;
    lastLoadedContent = $fileStore.currentContent;
  }

  // Check if metadata or content has changes
  $: {
    const parsed = parseMetadata($fileStore.currentContent);
    const metadataChanged = 
      title !== parsed.metadata.title ||
      artist !== parsed.metadata.artist ||
      key !== parsed.metadata.key ||
      info !== parsed.metadata.info;
    const contentChanged = editedContent !== parsed.contentWithoutMetadata;
    hasChanges = metadataChanged || contentChanged;
  }

  // In saveFile():
  const fullContent = serializeWithMetadata(
    { title, artist, key, info },
    editedContent
  );
*/
