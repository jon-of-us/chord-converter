(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();const qn=!1;var Vn=Array.isArray,Zs=Array.prototype.indexOf,sn=Array.from,Wn=Object.defineProperty,Mt=Object.getOwnPropertyDescriptor,zn=Object.getOwnPropertyDescriptors,Ys=Object.prototype,Xs=Array.prototype,on=Object.getPrototypeOf,En=Object.isExtensible;const Qe=()=>{};function Js(e){return e()}function yr(e){for(var t=0;t<e.length;t++)e[t]()}function Un(){var e,t,r=new Promise((n,s)=>{e=n,t=s});return{promise:r,resolve:e,reject:t}}const fe=2,Lr=4,Nr=8,qe=16,Ve=32,gt=64,Mr=128,ae=1024,_e=2048,We=4096,ye=8192,je=16384,ln=32768,pt=65536,Cn=1<<17,Gn=1<<18,Ht=1<<19,Zn=1<<20,Ce=256,Sr=512,Er=32768,Zr=1<<21,an=1<<22,et=1<<23,dt=Symbol("$state"),Qs=Symbol("legacy props"),eo=Symbol(""),At=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function to(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function ro(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function no(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function so(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function oo(e){throw new Error("https://svelte.dev/e/effect_orphan")}function io(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function lo(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ao(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function co(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function fo(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function uo(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Tr=1,Rr=2,Yn=4,vo=8,ho=16,po=1,_o=2,mo=4,go=8,wo=16,bo=1,yo=2,le=Symbol(),So="http://www.w3.org/1999/xhtml";function Eo(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Co=!1;function Xn(e){return e===this.v}function Jn(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Qn(e){return!Jn(e,this.v)}let Bt=!1,Fo=!1;function xo(){Bt=!0}let ne=null;function Ot(e){ne=e}function Fe(e,t=!1,r){ne={p:ne,i:!1,c:null,e:null,s:e,x:null,l:Bt&&!t?{s:null,u:null,$:[]}:null}}function xe(e){var t=ne,r=t.e;if(r!==null){t.e=null;for(var n of r)hs(n)}return t.i=!0,ne=t.p,{}}function ir(){return!Bt||ne!==null&&ne.l===null}let ft=[];function es(){var e=ft;ft=[],yr(e)}function jt(e){if(ft.length===0&&!Xt){var t=ft;queueMicrotask(()=>{t===ft&&es()})}ft.push(e)}function ko(){for(;ft.length>0;)es()}function ts(e){var t=D;if(t===null)return H.f|=et,e;if((t.f&ln)===0){if((t.f&Mr)===0)throw e;t.b.error(e)}else $t(e,t)}function $t(e,t){for(;t!==null;){if((t.f&Mr)!==0)try{t.b.error(e);return}catch(r){e=r}t=t.parent}throw e}const pr=new Set;let J=null,wr=null,Ae=null,Re=[],Ir=null,Yr=!1,Xt=!1;class Ie{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#r=0;#n=0;#a=null;#i=[];#l=[];skipped_effects=new Set;is_fork=!1;process(t){Re=[],wr=null,this.apply();var r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const n of t)this.#s(n,r);this.is_fork||this.#c(),this.#n>0||this.is_fork?(this.#o(r.effects),this.#o(r.render_effects),this.#o(r.block_effects)):(wr=this,J=null,Fn(r.render_effects),Fn(r.effects),wr=null,this.#a?.resolve()),Ae=null}#s(t,r){t.f^=ae;for(var n=t.first;n!==null;){var s=n.f,o=(s&(Ve|gt))!==0,i=o&&(s&ae)!==0,l=i||(s&ye)!==0||this.skipped_effects.has(n);if((n.f&Mr)!==0&&n.b?.is_pending()&&(r={parent:r,effect:n,effects:[],render_effects:[],block_effects:[]}),!l&&n.fn!==null){o?n.f^=ae:(s&Lr)!==0?r.effects.push(n):cr(n)&&((n.f&qe)!==0&&r.block_effects.push(n),nr(n));var a=n.first;if(a!==null){n=a;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)c===r.effect&&(this.#o(r.effects),this.#o(r.render_effects),this.#o(r.block_effects),r=r.parent),n=c.next,c=c.parent}}#o(t){for(const r of t)((r.f&_e)!==0?this.#i:this.#l).push(r),ce(r,ae)}capture(t,r){this.previous.has(t)||this.previous.set(t,r),(t.f&et)===0&&(this.current.set(t,t.v),Ae?.set(t,t.v))}activate(){J=this,this.apply()}deactivate(){J=null,Ae=null}flush(){if(this.activate(),Re.length>0){if(rs(),J!==null&&J!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#t)t(this);this.#t.clear()}#c(){if(this.#n===0){for(const t of this.#e)t();this.#e.clear()}this.#r===0&&this.#f()}#f(){if(pr.size>1){this.previous.clear();var t=Ae,r=!0,n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const s of pr){if(s===this){r=!1;continue}const o=[];for(const[l,a]of this.current){if(s.current.has(l))if(r&&a!==s.current.get(l))s.current.set(l,a);else continue;o.push(l)}if(o.length===0)continue;const i=[...s.current.keys()].filter(l=>!this.current.has(l));if(i.length>0){const l=new Set,a=new Map;for(const c of o)ns(c,i,l,a);if(Re.length>0){J=s,s.apply();for(const c of Re)s.#s(c,n);Re=[],s.deactivate()}}}J=null,Ae=t}this.committed=!0,pr.delete(this)}increment(t){this.#r+=1,t&&(this.#n+=1)}decrement(t){this.#r-=1,t&&(this.#n-=1),this.revive()}revive(){for(const t of this.#i)ce(t,_e),_t(t);for(const t of this.#l)ce(t,We),_t(t);this.#i=[],this.#l=[],this.flush()}oncommit(t){this.#e.add(t)}ondiscard(t){this.#t.add(t)}settled(){return(this.#a??=Un()).promise}static ensure(){if(J===null){const t=J=new Ie;pr.add(J),Xt||Ie.enqueue(()=>{J===t&&t.flush()})}return J}static enqueue(t){jt(t)}apply(){}}function Ao(e){var t=Xt;Xt=!0;try{for(var r;;){if(ko(),Re.length===0&&(J?.flush(),Re.length===0))return Ir=null,r;rs()}}finally{Xt=t}}function rs(){var e=Rt;Yr=!0;try{var t=0;for(An(!0);Re.length>0;){var r=Ie.ensure();if(t++>1e3){var n,s;Lo()}r.process(Re),tt.clear()}}finally{Yr=!1,An(e),Ir=null}}function Lo(){try{io()}catch(e){$t(e,Ir)}}let Pe=null;function Fn(e){var t=e.length;if(t!==0){for(var r=0;r<t;){var n=e[r++];if((n.f&(je|ye))===0&&cr(n)&&(Pe=new Set,nr(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null&&n.ac===null?gs(n):n.fn=null),Pe?.size>0)){tt.clear();for(const s of Pe){if((s.f&(je|ye))!==0)continue;const o=[s];let i=s.parent;for(;i!==null;)Pe.has(i)&&(Pe.delete(i),o.push(i)),i=i.parent;for(let l=o.length-1;l>=0;l--){const a=o[l];(a.f&(je|ye))===0&&nr(a)}}Pe.clear()}}Pe=null}}function ns(e,t,r,n){if(!r.has(e)&&(r.add(e),e.reactions!==null))for(const s of e.reactions){const o=s.f;(o&fe)!==0?ns(s,t,r,n):(o&(an|qe))!==0&&(o&_e)===0&&ss(s,t,n)&&(ce(s,_e),_t(s))}}function ss(e,t,r){const n=r.get(e);if(n!==void 0)return n;if(e.deps!==null)for(const s of e.deps){if(t.includes(s))return!0;if((s.f&fe)!==0&&ss(s,t,r))return r.set(s,!0),!0}return r.set(e,!1),!1}function _t(e){for(var t=Ir=e;t.parent!==null;){t=t.parent;var r=t.f;if(Yr&&t===D&&(r&qe)!==0&&(r&Gn)===0)return;if((r&(gt|Ve))!==0){if((r&ae)===0)return;t.f^=ae}}Re.push(t)}function No(e){let t=0,r=mt(0),n;return()=>{Vo()&&(_(r),un(()=>(t===0&&(n=bt(()=>e(()=>Jt(r)))),t+=1,()=>{jt(()=>{t-=1,t===0&&(n?.(),n=void 0,Jt(r))})})))}}var Mo=pt|Ht|Mr;function To(e,t,r){new Ro(e,t,r)}class Ro{parent;#e=!1;#t;#r=null;#n;#a;#i;#l=null;#s=null;#o=null;#c=null;#f=null;#v=0;#u=0;#h=!1;#d=null;#w=No(()=>(this.#d=mt(this.#v),()=>{this.#d=null}));constructor(t,r,n){this.#t=t,this.#n=r,this.#a=n,this.parent=D.b,this.#e=!!this.#n.pending,this.#i=$r(()=>{D.b=this;{var s=this.#m();try{this.#l=ke(()=>n(s))}catch(o){this.error(o)}this.#u>0?this.#_():this.#e=!1}return()=>{this.#f?.remove()}},Mo)}#b(){try{this.#l=ke(()=>this.#a(this.#t))}catch(t){this.error(t)}this.#e=!1}#y(){const t=this.#n.pending;t&&(this.#s=ke(()=>t(this.#t)),Ie.enqueue(()=>{var r=this.#m();this.#l=this.#p(()=>(Ie.ensure(),ke(()=>this.#a(r)))),this.#u>0?this.#_():(Tt(this.#s,()=>{this.#s=null}),this.#e=!1)}))}#m(){var t=this.#t;return this.#e&&(this.#f=rt(),this.#t.before(this.#f),t=this.#f),t}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#p(t){var r=D,n=H,s=ne;Oe(this.#i),pe(this.#i),Ot(this.#i.ctx);try{return t()}catch(o){return ts(o),null}finally{Oe(r),pe(n),Ot(s)}}#_(){const t=this.#n.pending;this.#l!==null&&(this.#c=document.createDocumentFragment(),this.#c.append(this.#f),ys(this.#l,this.#c)),this.#s===null&&(this.#s=ke(()=>t(this.#t)))}#g(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#g(t);return}this.#u+=t,this.#u===0&&(this.#e=!1,this.#s&&Tt(this.#s,()=>{this.#s=null}),this.#c&&(this.#t.before(this.#c),this.#c=null))}update_pending_count(t){this.#g(t),this.#v+=t,this.#d&&Dt(this.#d,this.#v)}get_effect_pending(){return this.#w(),_(this.#d)}error(t){var r=this.#n.onerror;let n=this.#n.failed;if(this.#h||!r&&!n)throw t;this.#l&&(ve(this.#l),this.#l=null),this.#s&&(ve(this.#s),this.#s=null),this.#o&&(ve(this.#o),this.#o=null);var s=!1,o=!1;const i=()=>{if(s){Eo();return}s=!0,o&&uo(),Ie.ensure(),this.#v=0,this.#o!==null&&Tt(this.#o,()=>{this.#o=null}),this.#e=this.has_pending_snippet(),this.#l=this.#p(()=>(this.#h=!1,ke(()=>this.#a(this.#t)))),this.#u>0?this.#_():this.#e=!1};var l=H;try{pe(null),o=!0,r?.(t,i),o=!1}catch(a){$t(a,this.#i&&this.#i.parent)}finally{pe(l)}n&&jt(()=>{this.#o=this.#p(()=>{Ie.ensure(),this.#h=!0;try{return ke(()=>{n(this.#t,()=>t,()=>i)})}catch(a){return $t(a,this.#i.parent),null}finally{this.#h=!1}})})}}function Io(e,t,r,n){const s=ir()?lr:vt;if(r.length===0&&e.length===0){n(t.map(s));return}var o=J,i=D,l=Oo();function a(){Promise.all(r.map(c=>$o(c))).then(c=>{l();try{n([...t.map(s),...c])}catch(f){(i.f&je)===0&&$t(f,i)}o?.deactivate(),Cr()}).catch(c=>{$t(c,i)})}e.length>0?Promise.all(e).then(()=>{l();try{return a()}finally{o?.deactivate(),Cr()}}):a()}function Oo(){var e=D,t=H,r=ne,n=J;return function(o=!0){Oe(e),pe(t),Ot(r),o&&n?.activate()}}function Cr(){Oe(null),pe(null),Ot(null)}function lr(e){var t=fe|_e,r=H!==null&&(H.f&fe)!==0?H:null;return D===null||r!==null&&(r.f&Ce)!==0?t|=Ce:D.f|=Ht,{ctx:ne,deps:null,effects:null,equals:Xn,f:t,fn:e,reactions:null,rv:0,v:le,wv:0,parent:r??D,ac:null}}function $o(e,t){let r=D;r===null&&ro();var n=r.b,s=void 0,o=mt(le),i=!H,l=new Map;return Go(()=>{var a=Un();s=a.promise;try{Promise.resolve(e()).then(a.resolve,a.reject).then(()=>{c===J&&c.committed&&c.deactivate(),Cr()})}catch(d){a.reject(d),Cr()}var c=J;if(i){var f=!n.is_pending();n.update_pending_count(1),c.increment(f),l.get(c)?.reject(At),l.delete(c),l.set(c,a)}const u=(d,v=void 0)=>{if(c.activate(),v)v!==At&&(o.f|=et,Dt(o,v));else{(o.f&et)!==0&&(o.f^=et),Dt(o,d);for(const[p,F]of l){if(l.delete(p),p===c)break;F.reject(At)}}i&&(n.update_pending_count(-1),c.decrement(f))};a.promise.then(u,d=>u(null,d||"unknown"))}),fn(()=>{for(const a of l.values())a.reject(At)}),new Promise(a=>{function c(f){function u(){f===s?a(o):c(s)}f.then(u,u)}c(s)})}function Q(e){const t=lr(e);return Ss(t),t}function vt(e){const t=lr(e);return t.equals=Qn,t}function os(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)ve(t[r])}}function Do(e){for(var t=e.parent;t!==null;){if((t.f&fe)===0)return t;t=t.parent}return null}function cn(e){var t,r=D;Oe(Do(e));try{e.f&=~Er,os(e),t=xs(e)}finally{Oe(r)}return t}function is(e){var t=cn(e);if(e.equals(t)||(e.v=t,e.wv=Cs()),!wt)if(Ae!==null)Ae.set(e,e.v);else{var r=(Ze||(e.f&Ce)!==0)&&e.deps!==null?We:ae;ce(e,r)}}let Xr=new Set;const tt=new Map;let ls=!1;function mt(e,t){var r={f:0,v:e,reactions:null,equals:Xn,rv:0,wv:0};return r}function he(e,t){const r=mt(e);return Ss(r),r}function Fr(e,t=!1,r=!0){const n=mt(e);return t||(n.equals=Qn),Bt&&r&&ne!==null&&ne.l!==null&&(ne.l.s??=[]).push(n),n}function te(e,t,r=!1){H!==null&&(!Le||(H.f&Cn)!==0)&&ir()&&(H.f&(fe|qe|an|Cn))!==0&&!Ke?.includes(e)&&fo();let n=r?ut(t):t;return Dt(e,n)}function Dt(e,t){if(!e.equals(t)){var r=e.v;wt?tt.set(e,t):tt.set(e,r),e.v=t;var n=Ie.ensure();n.capture(e,r),(e.f&fe)!==0&&((e.f&_e)!==0&&cn(e),ce(e,(e.f&Ce)===0?ae:We)),e.wv=Cs(),as(e,_e),ir()&&D!==null&&(D.f&ae)!==0&&(D.f&(Ve|gt))===0&&(Ee===null?Yo([e]):Ee.push(e)),!n.is_fork&&Xr.size>0&&!ls&&Po()}return t}function Po(){ls=!1;const e=Array.from(Xr);for(const t of e)(t.f&ae)!==0&&ce(t,We),cr(t)&&nr(t);Xr.clear()}function Jt(e){te(e,e.v+1)}function as(e,t){var r=e.reactions;if(r!==null)for(var n=ir(),s=r.length,o=0;o<s;o++){var i=r[o],l=i.f;if(!(!n&&i===D)){var a=(l&_e)===0;a&&ce(i,t),(l&fe)!==0?(l&Er)===0&&(i.f|=Er,as(i,We)):a&&((l&qe)!==0&&Pe!==null&&Pe.add(i),_t(i))}}}function ut(e){if(typeof e!="object"||e===null||dt in e)return e;const t=on(e);if(t!==Ys&&t!==Xs)return e;var r=new Map,n=Vn(e),s=he(0),o=ht,i=l=>{if(ht===o)return l();var a=H,c=ht;pe(null),Nn(o);var f=l();return pe(a),Nn(c),f};return n&&r.set("length",he(e.length)),new Proxy(e,{defineProperty(l,a,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&ao();var f=r.get(a);return f===void 0?f=i(()=>{var u=he(c.value);return r.set(a,u),u}):te(f,c.value,!0),!0},deleteProperty(l,a){var c=r.get(a);if(c===void 0){if(a in l){const f=i(()=>he(le));r.set(a,f),Jt(s)}}else te(c,le),Jt(s);return!0},get(l,a,c){if(a===dt)return e;var f=r.get(a),u=a in l;if(f===void 0&&(!u||Mt(l,a)?.writable)&&(f=i(()=>{var v=ut(u?l[a]:le),p=he(v);return p}),r.set(a,f)),f!==void 0){var d=_(f);return d===le?void 0:d}return Reflect.get(l,a,c)},getOwnPropertyDescriptor(l,a){var c=Reflect.getOwnPropertyDescriptor(l,a);if(c&&"value"in c){var f=r.get(a);f&&(c.value=_(f))}else if(c===void 0){var u=r.get(a),d=u?.v;if(u!==void 0&&d!==le)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return c},has(l,a){if(a===dt)return!0;var c=r.get(a),f=c!==void 0&&c.v!==le||Reflect.has(l,a);if(c!==void 0||D!==null&&(!f||Mt(l,a)?.writable)){c===void 0&&(c=i(()=>{var d=f?ut(l[a]):le,v=he(d);return v}),r.set(a,c));var u=_(c);if(u===le)return!1}return f},set(l,a,c,f){var u=r.get(a),d=a in l;if(n&&a==="length")for(var v=c;v<u.v;v+=1){var p=r.get(v+"");p!==void 0?te(p,le):v in l&&(p=i(()=>he(le)),r.set(v+"",p))}if(u===void 0)(!d||Mt(l,a)?.writable)&&(u=i(()=>he(void 0)),te(u,ut(c)),r.set(a,u));else{d=u.v!==le;var F=i(()=>ut(c));te(u,F)}var m=Reflect.getOwnPropertyDescriptor(l,a);if(m?.set&&m.set.call(f,c),!d){if(n&&typeof a=="string"){var x=r.get("length"),R=Number(a);Number.isInteger(R)&&R>=x.v&&te(x,R+1)}Jt(s)}return!0},ownKeys(l){_(s);var a=Reflect.ownKeys(l).filter(u=>{var d=r.get(u);return d===void 0||d.v!==le});for(var[c,f]of r)f.v!==le&&!(c in l)&&a.push(c);return a},setPrototypeOf(){co()}})}var xn,cs,fs,us;function Ho(){if(xn===void 0){xn=window,cs=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;fs=Mt(t,"firstChild").get,us=Mt(t,"nextSibling").get,En(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),En(r)&&(r.__t=void 0)}}function rt(e=""){return document.createTextNode(e)}function Ge(e){return fs.call(e)}function ar(e){return us.call(e)}function T(e,t){return Ge(e)}function ge(e,t=!1){{var r=Ge(e);return r instanceof Comment&&r.data===""?ar(r):r}}function $(e,t=1,r=!1){let n=e;for(;t--;)n=ar(n);return n}function Bo(e){e.textContent=""}function ds(){return!1}let kn=!1;function jo(){kn||(kn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Or(e){var t=H,r=D;pe(null),Oe(null);try{return e()}finally{pe(t),Oe(r)}}function Ko(e,t,r,n=r){e.addEventListener(t,()=>Or(r));const s=e.__on_r;s?e.__on_r=()=>{s(),n(!0)}:e.__on_r=()=>n(!0),jo()}function vs(e){D===null&&H===null&&oo(),H!==null&&(H.f&Ce)!==0&&D===null&&so(),wt&&no()}function qo(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function $e(e,t,r,n=!0){var s=D;s!==null&&(s.f&ye)!==0&&(e|=ye);var o={ctx:ne,deps:null,nodes_start:null,nodes_end:null,f:e|_e,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(r)try{nr(o),o.f|=ln}catch(a){throw ve(o),a}else t!==null&&_t(o);if(n){var i=o;if(r&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&Ht)===0&&(i=i.first,(e&qe)!==0&&(e&pt)!==0&&i!==null&&(i.f|=pt)),i!==null&&(i.parent=s,s!==null&&qo(i,s),H!==null&&(H.f&fe)!==0&&(e&gt)===0)){var l=H;(l.effects??=[]).push(i)}}return o}function Vo(){return H!==null&&!Le}function fn(e){const t=$e(Nr,null,!1);return ce(t,ae),t.teardown=e,t}function Be(e){vs();var t=D.f,r=!H&&(t&Ve)!==0&&(t&ln)===0;if(r){var n=ne;(n.e??=[]).push(e)}else return hs(e)}function hs(e){return $e(Lr|Zn,e,!1)}function Wo(e){return vs(),$e(Nr|Zn,e,!0)}function zo(e){Ie.ensure();const t=$e(gt|Ht,e,!0);return(r={})=>new Promise(n=>{r.outro?Tt(t,()=>{ve(t),n(void 0)}):(ve(t),n(void 0))})}function Uo(e){return $e(Lr,e,!1)}function Go(e){return $e(an|Ht,e,!0)}function un(e,t=0){return $e(Nr|t,e,!0)}function ee(e,t=[],r=[],n=[],s=!1){Io(n,t,r,o=>{$e(s?Lr:Nr,()=>e(...o.map(_)),!0)})}function $r(e,t=0){var r=$e(qe|t,e,!0);return r}function ke(e,t=!0){return $e(Ve|Ht,e,!0,t)}function ps(e){var t=e.teardown;if(t!==null){const r=wt,n=H;Ln(!0),pe(null);try{t.call(null)}finally{Ln(r),pe(n)}}}function _s(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const s=r.ac;s!==null&&Or(()=>{s.abort(At)});var n=r.next;(r.f&gt)!==0?r.parent=null:ve(r,t),r=n}}function Zo(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&Ve)===0&&ve(t),t=r}}function ve(e,t=!0){var r=!1;(t||(e.f&Gn)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(ms(e.nodes_start,e.nodes_end),r=!0),_s(e,t&&!r),xr(e,0),ce(e,je);var n=e.transitions;if(n!==null)for(const o of n)o.stop();ps(e);var s=e.parent;s!==null&&s.first!==null&&gs(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function ms(e,t){for(;e!==null;){var r=e===t?null:ar(e);e.remove(),e=r}}function gs(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function Tt(e,t,r=!0){var n=[];dn(e,n,!0),ws(n,()=>{r&&ve(e),t&&t()})}function ws(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var s of e)s.out(n)}else t()}function dn(e,t,r){if((e.f&ye)===0){if(e.f^=ye,e.transitions!==null)for(const i of e.transitions)(i.is_global||r)&&t.push(i);for(var n=e.first;n!==null;){var s=n.next,o=(n.f&pt)!==0||(n.f&Ve)!==0&&(e.f&qe)!==0;dn(n,t,o?r:!1),n=s}}}function vn(e){bs(e,!0)}function bs(e,t){if((e.f&ye)!==0){e.f^=ye,(e.f&ae)===0&&(ce(e,_e),_t(e));for(var r=e.first;r!==null;){var n=r.next,s=(r.f&pt)!==0||(r.f&Ve)!==0;bs(r,s?t:!1),r=n}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}function ys(e,t){for(var r=e.nodes_start,n=e.nodes_end;r!==null;){var s=r===n?null:ar(r);t.append(r),r=s}}let Rt=!1;function An(e){Rt=e}let wt=!1;function Ln(e){wt=e}let H=null,Le=!1;function pe(e){H=e}let D=null;function Oe(e){D=e}let Ke=null;function Ss(e){H!==null&&(Ke===null?Ke=[e]:Ke.push(e))}let de=null,me=0,Ee=null;function Yo(e){Ee=e}let Es=1,rr=0,ht=rr;function Nn(e){ht=e}let Ze=!1;function Cs(){return++Es}function cr(e){var t=e.f;if((t&_e)!==0)return!0;if((t&We)!==0){var r=e.deps,n=(t&Ce)!==0;if(t&fe&&(e.f&=~Er),r!==null){var s,o,i=(t&Sr)!==0,l=n&&D!==null&&!Ze,a=r.length;if((i||l)&&(D===null||(D.f&je)===0)){var c=e,f=c.parent;for(s=0;s<a;s++)o=r[s],(i||!o?.reactions?.includes(c))&&(o.reactions??=[]).push(c);i&&(c.f^=Sr),l&&f!==null&&(f.f&Ce)===0&&(c.f^=Ce)}for(s=0;s<a;s++)if(o=r[s],cr(o)&&is(o),o.wv>e.wv)return!0}(!n||D!==null&&!Ze)&&ce(e,ae)}return!1}function Fs(e,t,r=!0){var n=e.reactions;if(n!==null&&!Ke?.includes(e))for(var s=0;s<n.length;s++){var o=n[s];(o.f&fe)!==0?Fs(o,t,!1):t===o&&(r?ce(o,_e):(o.f&ae)!==0&&ce(o,We),_t(o))}}function xs(e){var t=de,r=me,n=Ee,s=H,o=Ze,i=Ke,l=ne,a=Le,c=ht,f=e.f;de=null,me=0,Ee=null,Ze=(f&Ce)!==0&&(Le||!Rt||H===null),H=(f&(Ve|gt))===0?e:null,Ke=null,Ot(e.ctx),Le=!1,ht=++rr,e.ac!==null&&(Or(()=>{e.ac.abort(At)}),e.ac=null);try{e.f|=Zr;var u=e.fn,d=u(),v=e.deps;if(de!==null){var p;if(xr(e,me),v!==null&&me>0)for(v.length=me+de.length,p=0;p<de.length;p++)v[me+p]=de[p];else e.deps=v=de;if(!Ze||(f&fe)!==0&&e.reactions!==null)for(p=me;p<v.length;p++)(v[p].reactions??=[]).push(e)}else v!==null&&me<v.length&&(xr(e,me),v.length=me);if(ir()&&Ee!==null&&!Le&&v!==null&&(e.f&(fe|We|_e))===0)for(p=0;p<Ee.length;p++)Fs(Ee[p],e);return s!==null&&s!==e&&(rr++,Ee!==null&&(n===null?n=Ee:n.push(...Ee))),(e.f&et)!==0&&(e.f^=et),d}catch(F){return ts(F)}finally{e.f^=Zr,de=t,me=r,Ee=n,H=s,Ze=o,Ke=i,Ot(l),Le=a,ht=c}}function Xo(e,t){let r=t.reactions;if(r!==null){var n=Zs.call(r,e);if(n!==-1){var s=r.length-1;s===0?r=t.reactions=null:(r[n]=r[s],r.pop())}}r===null&&(t.f&fe)!==0&&(de===null||!de.includes(t))&&(ce(t,We),(t.f&(Ce|Sr))===0&&(t.f^=Sr),os(t),xr(t,0))}function xr(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)Xo(e,r[n])}function nr(e){var t=e.f;if((t&je)===0){ce(e,ae);var r=D,n=Rt;D=e,Rt=!0;try{(t&qe)!==0?Zo(e):_s(e),ps(e);var s=xs(e);e.teardown=typeof s=="function"?s:null,e.wv=Es;var o;qn&&Fo&&(e.f&_e)!==0&&e.deps}finally{Rt=n,D=r}}}async function Jo(){await Promise.resolve(),Ao()}function _(e){var t=e.f,r=(t&fe)!==0;if(H!==null&&!Le){var n=D!==null&&(D.f&je)!==0;if(!n&&!Ke?.includes(e)){var s=H.deps;if((H.f&Zr)!==0)e.rv<rr&&(e.rv=rr,de===null&&s!==null&&s[me]===e?me++:de===null?de=[e]:(!Ze||!de.includes(e))&&de.push(e));else{(H.deps??=[]).push(e);var o=e.reactions;o===null?e.reactions=[H]:o.includes(H)||o.push(H)}}}else if(r&&e.deps===null&&e.effects===null){var i=e,l=i.parent;l!==null&&(l.f&Ce)===0&&(i.f^=Ce)}if(wt){if(tt.has(e))return tt.get(e);if(r){i=e;var a=i.v;return((i.f&ae)===0&&i.reactions!==null||ks(i))&&(a=cn(i)),tt.set(i,a),a}}else if(r){if(i=e,Ae?.has(i))return Ae.get(i);cr(i)&&is(i)}if(Ae?.has(e))return Ae.get(e);if((e.f&et)!==0)throw e.v;return e.v}function ks(e){if(e.v===le)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(tt.has(t)||(t.f&fe)!==0&&ks(t))return!0;return!1}function bt(e){var t=Le;try{return Le=!0,e()}finally{Le=t}}const Qo=-7169;function ce(e,t){e.f=e.f&Qo|t}function ei(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(dt in e)Jr(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&dt in r&&Jr(r)}}}function Jr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{Jr(e[n],t)}catch{}const r=on(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=zn(r);for(let s in n){const o=n[s].get;if(o)try{o.call(e)}catch{}}}}}const ti=["touchstart","touchmove"];function ri(e){return ti.includes(e)}const As=new Set,Qr=new Set;function ni(e,t,r,n={}){function s(o){if(n.capture||Yt.call(t,o),!o.cancelBubble)return Or(()=>r?.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?jt(()=>{t.addEventListener(e,s,n)}):t.addEventListener(e,s,n),s}function br(e,t,r,n,s){var o={capture:n,passive:s},i=ni(e,t,r,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&fn(()=>{t.removeEventListener(e,i,o)})}function yt(e){for(var t=0;t<e.length;t++)As.add(e[t]);for(var r of Qr)r(e)}let Mn=null;function Yt(e){var t=this,r=t.ownerDocument,n=e.type,s=e.composedPath?.()||[],o=s[0]||e.target;Mn=e;var i=0,l=Mn===e&&e.__root;if(l){var a=s.indexOf(l);if(a!==-1&&(t===document||t===window)){e.__root=t;return}var c=s.indexOf(t);if(c===-1)return;a<=c&&(i=a)}if(o=s[i]||e.target,o!==t){Wn(e,"currentTarget",{configurable:!0,get(){return o||r}});var f=H,u=D;pe(null),Oe(null);try{for(var d,v=[];o!==null;){var p=o.assignedSlot||o.parentNode||o.host||null;try{var F=o["__"+n];F!=null&&(!o.disabled||e.target===o)&&F.call(o,e)}catch(m){d?v.push(m):d=m}if(e.cancelBubble||p===t||p===null)break;o=p}if(d){for(let m of v)queueMicrotask(()=>{throw m});throw d}}finally{e.__root=t,delete e.currentTarget,pe(f),Oe(u)}}}function Ls(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function sr(e,t){var r=D;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function P(e,t){var r=(t&bo)!==0,n=(t&yo)!==0,s,o=!e.startsWith("<!>");return()=>{s===void 0&&(s=Ls(o?e:"<!>"+e),r||(s=Ge(s)));var i=n||cs?document.importNode(s,!0):s.cloneNode(!0);if(r){var l=Ge(i),a=i.lastChild;sr(l,a)}else sr(i,i);return i}}function Ye(e=""){{var t=rt(e+"");return sr(t,t),t}}function Te(){var e=document.createDocumentFragment(),t=document.createComment(""),r=rt();return e.append(t,r),sr(t,r),e}function N(e,t){e!==null&&e.before(t)}function se(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function si(e,t){return oi(e,t)}const Ft=new Map;function oi(e,{target:t,anchor:r,props:n={},events:s,context:o,intro:i=!0}){Ho();var l=new Set,a=u=>{for(var d=0;d<u.length;d++){var v=u[d];if(!l.has(v)){l.add(v);var p=ri(v);t.addEventListener(v,Yt,{passive:p});var F=Ft.get(v);F===void 0?(document.addEventListener(v,Yt,{passive:p}),Ft.set(v,1)):Ft.set(v,F+1)}}};a(sn(As)),Qr.add(a);var c=void 0,f=zo(()=>{var u=r??t.appendChild(rt());return To(u,{pending:()=>{}},d=>{if(o){Fe({});var v=ne;v.c=o}s&&(n.$$events=s),c=e(d,n)||{},o&&xe()}),()=>{for(var d of l){t.removeEventListener(d,Yt);var v=Ft.get(d);--v===0?(document.removeEventListener(d,Yt),Ft.delete(d)):Ft.set(d,v)}Qr.delete(a),u!==r&&u.parentNode?.removeChild(u)}});return ii.set(c,f),c}let ii=new WeakMap;class Ns{anchor;#e=new Map;#t=new Map;#r=new Map;#n=!0;constructor(t,r=!0){this.anchor=t,this.#n=r}#a=()=>{var t=J;if(this.#e.has(t)){var r=this.#e.get(t),n=this.#t.get(r);if(n)vn(n);else{var s=this.#r.get(r);s&&(this.#t.set(r,s.effect),this.#r.delete(r),s.fragment.lastChild.remove(),this.anchor.before(s.fragment),n=s.effect)}for(const[o,i]of this.#e){if(this.#e.delete(o),o===t)break;const l=this.#r.get(i);l&&(ve(l.effect),this.#r.delete(i))}for(const[o,i]of this.#t){if(o===r)continue;const l=()=>{if(Array.from(this.#e.values()).includes(o)){var c=document.createDocumentFragment();ys(i,c),c.append(rt()),this.#r.set(o,{effect:i,fragment:c})}else ve(i);this.#t.delete(o)};this.#n||!n?Tt(i,l,!1):l()}}};#i=t=>{this.#e.delete(t);const r=Array.from(this.#e.values());for(const[n,s]of this.#r)r.includes(n)||(ve(s.effect),this.#r.delete(n))};ensure(t,r){var n=J,s=ds();if(r&&!this.#t.has(t)&&!this.#r.has(t))if(s){var o=document.createDocumentFragment(),i=rt();o.append(i),this.#r.set(t,{effect:ke(()=>r(i)),fragment:o})}else this.#t.set(t,ke(()=>r(this.anchor)));if(this.#e.set(n,t),s){for(const[l,a]of this.#t)l===t?n.skipped_effects.delete(a):n.skipped_effects.add(a);for(const[l,a]of this.#r)l===t?n.skipped_effects.delete(a.effect):n.skipped_effects.add(a.effect);n.oncommit(this.#a),n.ondiscard(this.#i)}else this.#a()}}function Y(e,t,r=!1){var n=new Ns(e),s=r?pt:0;function o(i,l){n.ensure(i,l)}$r(()=>{var i=!1;t((l,a=!0)=>{i=!0,o(a,l)}),i||o(!1,null)},s)}function Qt(e,t){return t}function li(e,t,r){for(var n=e.items,s=[],o=t.length,i=0;i<o;i++)dn(t[i].e,s,!0);var l=o>0&&s.length===0&&r!==null;if(l){var a=r.parentNode;Bo(a),a.append(r),n.clear(),Me(e,t[0].prev,t[o-1].next)}ws(s,()=>{for(var c=0;c<o;c++){var f=t[c];l||(n.delete(f.k),Me(e,f.prev,f.next)),ve(f.e,!l)}})}function er(e,t,r,n,s,o=null){var i=e,l={flags:t,items:new Map,first:null},a=(t&Yn)!==0;if(a){var c=e;i=c.appendChild(rt())}var f=null,u=!1,d=new Map,v=vt(()=>{var x=r();return Vn(x)?x:x==null?[]:sn(x)}),p,F;function m(){ai(F,p,l,d,i,s,t,n,r),o!==null&&(p.length===0?f?vn(f):f=ke(()=>o(i)):f!==null&&Tt(f,()=>{f=null}))}$r(()=>{F??=D,p=_(v);var x=p.length;if(!(u&&x===0)){u=x===0;var R,w,S,y;if(ds()){var g=new Set,C=J;for(w=0;w<x;w+=1){S=p[w],y=n(S,w);var k=l.items.get(y)??d.get(y);k?(t&(Tr|Rr))!==0&&Ms(k,S,w,t):(R=Ts(null,l,null,null,S,y,w,s,t,r,!0),d.set(y,R)),g.add(y)}for(const[I,L]of l.items)g.has(I)||C.skipped_effects.add(L.e);C.oncommit(m)}else m();_(v)}})}function ai(e,t,r,n,s,o,i,l,a){var c=(i&vo)!==0,f=(i&(Tr|Rr))!==0,u=t.length,d=r.items,v=r.first,p=v,F,m=null,x,R=[],w=[],S,y,g,C;if(c)for(C=0;C<u;C+=1)S=t[C],y=l(S,C),g=d.get(y),g!==void 0&&(g.a?.measure(),(x??=new Set).add(g));for(C=0;C<u;C+=1){if(S=t[C],y=l(S,C),g=d.get(y),g===void 0){var k=n.get(y);if(k!==void 0){n.delete(y),d.set(y,k);var I=m?m.next:p;Me(r,m,k),Me(r,k,I),Wr(k,I,s),m=k}else{var L=p?p.e.nodes_start:s;m=Ts(L,r,m,m===null?r.first:m.next,S,y,C,o,i,a)}d.set(y,m),R=[],w=[],p=m.next;continue}if(f&&Ms(g,S,C,i),(g.e.f&ye)!==0&&(vn(g.e),c&&(g.a?.unfix(),(x??=new Set).delete(g))),g!==p){if(F!==void 0&&F.has(g)){if(R.length<w.length){var B=w[0],K;m=B.prev;var G=R[0],M=R[R.length-1];for(K=0;K<R.length;K+=1)Wr(R[K],B,s);for(K=0;K<w.length;K+=1)F.delete(w[K]);Me(r,G.prev,M.next),Me(r,m,G),Me(r,M,B),p=B,m=M,C-=1,R=[],w=[]}else F.delete(g),Wr(g,p,s),Me(r,g.prev,g.next),Me(r,g,m===null?r.first:m.next),Me(r,m,g),m=g;continue}for(R=[],w=[];p!==null&&p.k!==y;)(p.e.f&ye)===0&&(F??=new Set).add(p),w.push(p),p=p.next;if(p===null)continue;g=p}R.push(g),m=g,p=g.next}if(p!==null||F!==void 0){for(var V=F===void 0?[]:sn(F);p!==null;)(p.e.f&ye)===0&&V.push(p),p=p.next;var W=V.length;if(W>0){var q=(i&Yn)!==0&&u===0?s:null;if(c){for(C=0;C<W;C+=1)V[C].a?.measure();for(C=0;C<W;C+=1)V[C].a?.fix()}li(r,V,q)}}c&&jt(()=>{if(x!==void 0)for(g of x)g.a?.apply()}),e.first=r.first&&r.first.e,e.last=m&&m.e;for(var Z of n.values())ve(Z.e);n.clear()}function Ms(e,t,r,n){(n&Tr)!==0&&Dt(e.v,t),(n&Rr)!==0?Dt(e.i,r):e.i=r}function Ts(e,t,r,n,s,o,i,l,a,c,f){var u=(a&Tr)!==0,d=(a&ho)===0,v=u?d?Fr(s,!1,!1):mt(s):s,p=(a&Rr)===0?i:mt(i),F={i:p,v,k:o,a:null,e:null,prev:r,next:n};try{if(e===null){var m=document.createDocumentFragment();m.append(e=rt())}return F.e=ke(()=>l(e,v,p,c),Co),F.e.prev=r&&r.e,F.e.next=n&&n.e,r===null?f||(t.first=F):(r.next=F,r.e.next=F.e),n!==null&&(n.prev=F,n.e.prev=F.e),F}finally{}}function Wr(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,s=t?t.e.nodes_start:r,o=e.e.nodes_start;o!==null&&o!==n;){var i=ar(o);s.before(o),o=i}}function Me(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function ci(e,t,r=!1,n=!1,s=!1){var o=e,i="";ee(()=>{var l=D;if(i!==(i=t()??"")&&(l.nodes_start!==null&&(ms(l.nodes_start,l.nodes_end),l.nodes_start=l.nodes_end=null),i!=="")){var a=i+"";r?a=`<svg>${a}</svg>`:n&&(a=`<math>${a}</math>`);var c=Ls(a);if((r||n)&&(c=Ge(c)),sr(Ge(c),c.lastChild),r||n)for(;Ge(c);)o.before(Ge(c));else o.before(c)}})}function fi(e,t,...r){var n=new Ns(e);$r(()=>{const s=t()??null;n.ensure(s,s&&(o=>s(o,...r)))},pt)}const Tn=[...` 	
\r\fÂ \v\uFEFF`];function ui(e,t,r){var n=e==null?"":""+e;if(t&&(n=n?n+" "+t:t),r){for(var s in r)if(r[s])n=n?n+" "+s:s;else if(n.length)for(var o=s.length,i=0;(i=n.indexOf(s,i))>=0;){var l=i+o;(i===0||Tn.includes(n[i-1]))&&(l===n.length||Tn.includes(n[l]))?n=(i===0?"":n.substring(0,i))+n.substring(l+1):i=l}}return n===""?null:n}function di(e,t){return e==null?null:String(e)}function Xe(e,t,r,n,s,o){var i=e.__className;if(i!==r||i===void 0){var l=ui(r,n,o);l==null?e.removeAttribute("class"):e.className=l,e.__className=r}else if(o&&s!==o)for(var a in o){var c=!!o[a];(s==null||c!==!!s[a])&&e.classList.toggle(a,c)}return o}function hn(e,t,r,n){var s=e.__style;if(s!==t){var o=di(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return n}const vi=Symbol("is custom element"),hi=Symbol("is html");function pi(e,t){var r=Rs(e);r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function or(e,t,r,n){var s=Rs(e);s[t]!==(s[t]=r)&&(t==="loading"&&(e[eo]=r),r==null?e.removeAttribute(t):typeof r!="string"&&_i(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function Rs(e){return e.__attributes??={[vi]:e.nodeName.includes("-"),[hi]:e.namespaceURI===So}}var Rn=new Map;function _i(e){var t=e.getAttribute("is")||e.nodeName,r=Rn.get(t);if(r)return r;Rn.set(t,r=[]);for(var n,s=e,o=Element.prototype;o!==s;){n=zn(s);for(var i in n)n[i].set&&r.push(i);s=on(s)}return r}function mi(e,t,r=t){var n=new WeakSet;Ko(e,"input",async s=>{var o=s?e.defaultValue:e.value;if(o=zr(e)?Ur(o):o,r(o),J!==null&&n.add(J),await Jo(),o!==(o=t())){var i=e.selectionStart,l=e.selectionEnd,a=e.value.length;if(e.value=o??"",l!==null){var c=e.value.length;i===l&&l===a&&c>a?(e.selectionStart=c,e.selectionEnd=c):(e.selectionStart=i,e.selectionEnd=Math.min(l,c))}}}),bt(t)==null&&e.value&&(r(zr(e)?Ur(e.value):e.value),J!==null&&n.add(J)),un(()=>{var s=t();if(e===document.activeElement){var o=wr??J;if(n.has(o))return}zr(e)&&s===Ur(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function zr(e){var t=e.type;return t==="number"||t==="range"}function Ur(e){return e===""?null:+e}function In(e,t){return e===t||e?.[dt]===t}function pn(e={},t,r,n){return Uo(()=>{var s,o;return un(()=>{s=o,o=[],bt(()=>{e!==r(...o)&&(t(e,...o),s&&In(r(...s),e)&&t(null,...s))})}),()=>{jt(()=>{o&&In(r(...o),e)&&t(null,...o)})}}),e}function Is(e=!1){const t=ne,r=t.l.u;if(!r)return;let n=()=>ei(t.s);if(e){let s=0,o={};const i=lr(()=>{let l=!1;const a=t.s;for(const c in a)a[c]!==o[c]&&(o[c]=a[c],l=!0);return l&&s++,s});n=()=>_(i)}r.b.length&&Wo(()=>{On(t,n),yr(r.b)}),Be(()=>{const s=bt(()=>r.m.map(Js));return()=>{for(const o of s)typeof o=="function"&&o()}}),r.a.length&&Be(()=>{On(t,n),yr(r.a)})}function On(e,t){if(e.l.s)for(const r of e.l.s)_(r);t()}function _n(e,t,r){if(e==null)return t(void 0),r&&r(void 0),Qe;const n=bt(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const xt=[];function gi(e,t){return{subscribe:fr(e,t).subscribe}}function fr(e,t=Qe){let r=null;const n=new Set;function s(l){if(Jn(e,l)&&(e=l,r)){const a=!xt.length;for(const c of n)c[1](),xt.push(c,e);if(a){for(let c=0;c<xt.length;c+=2)xt[c][0](xt[c+1]);xt.length=0}}}function o(l){s(l(e))}function i(l,a=Qe){const c=[l,a];return n.add(c),n.size===1&&(r=t(s,o)||Qe),l(e),()=>{n.delete(c),n.size===0&&r&&(r(),r=null)}}return{set:s,update:o,subscribe:i}}function wi(e,t,r){const n=!Array.isArray(e),s=n?[e]:e;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=t.length<2;return gi(r,(i,l)=>{let a=!1;const c=[];let f=0,u=Qe;const d=()=>{if(f)return;u();const p=t(n?c[0]:c,i,l);o?i(p):u=typeof p=="function"?p:Qe},v=s.map((p,F)=>_n(p,m=>{c[F]=m,f&=~(1<<F),a&&d()},()=>{f|=1<<F}));return a=!0,d(),function(){yr(v),u(),a=!1}})}function bi(e){let t;return _n(e,r=>t=r)(),t}let _r=!1,en=Symbol();function oe(e,t,r){const n=r[t]??={store:null,source:Fr(void 0),unsubscribe:Qe};if(n.store!==e&&!(en in r))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=Qe;else{var s=!0;n.unsubscribe=_n(e,o=>{s?n.source.v=o:te(n.source,o)}),s=!1}return e&&en in r?bi(e):_(n.source)}function ze(){const e={};function t(){fn(()=>{for(var r in e)e[r].unsubscribe();Wn(e,en,{enumerable:!1,value:!0})})}return[e,t]}function yi(e){var t=_r;try{return _r=!1,[e(),_r]}finally{_r=t}}function we(e,t,r,n){var s=!Bt||(r&_o)!==0,o=(r&go)!==0,i=(r&wo)!==0,l=n,a=!0,c=()=>(a&&(a=!1,l=i?bt(n):n),l),f;if(o){var u=dt in e||Qs in e;f=Mt(e,t)?.set??(u&&t in e?w=>e[t]=w:void 0)}var d,v=!1;o?[d,v]=yi(()=>e[t]):d=e[t],d===void 0&&n!==void 0&&(d=c(),f&&(s&&lo(),f(d)));var p;if(s?p=()=>{var w=e[t];return w===void 0?c():(a=!0,w)}:p=()=>{var w=e[t];return w!==void 0&&(l=void 0),w===void 0?l:w},s&&(r&mo)===0)return p;if(f){var F=e.$$legacy;return(function(w,S){return arguments.length>0?((!s||!S||F||v)&&f(S?p():w),w):p()})}var m=!1,x=((r&po)!==0?lr:vt)(()=>(m=!1,p()));o&&_(x);var R=D;return(function(w,S){if(arguments.length>0){const y=S?_(x):s&&o?ut(w):w;return te(x,y),m=!0,l!==void 0&&(l=y),w}return wt&&m||(R.f&je)!==0?x.v:_(x)})}function Dr(e){ne===null&&to(),Bt&&ne.l!==null?Si(ne).m.push(e):Be(()=>{const t=bt(e);if(typeof t=="function")return t})}function Si(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const Ei="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Ei);xo();const Ci="ChordConverterDB",Fi=2,nt="folderHandles",st="files",mn="selectedFolder";function Kt(){return new Promise((e,t)=>{const r=indexedDB.open(Ci,Fi);r.onerror=()=>t(r.error),r.onsuccess=()=>e(r.result),r.onupgradeneeded=n=>{const s=n.target.result;s.objectStoreNames.contains(nt)||s.createObjectStore(nt),s.objectStoreNames.contains(st)||s.createObjectStore(st)}})}async function xi(e){try{const t=await Kt(),r=t.transaction(nt,"readwrite");return r.objectStore(nt).put(e,mn),new Promise((s,o)=>{r.oncomplete=()=>{t.close(),s()},r.onerror=()=>{t.close(),o(r.error)}})}catch(t){throw console.error("Error saving folder handle:",t),t}}async function ki(){try{const e=await Kt(),n=e.transaction(nt,"readonly").objectStore(nt).get(mn);return new Promise((s,o)=>{n.onsuccess=()=>{e.close(),s(n.result||null)},n.onerror=()=>{e.close(),o(n.error)}})}catch(e){return console.error("Error loading folder handle:",e),null}}async function Ai(){try{const e=await Kt(),t=e.transaction(nt,"readwrite");return t.objectStore(nt).delete(mn),new Promise((n,s)=>{t.oncomplete=()=>{e.close(),n()},t.onerror=()=>{e.close(),s(t.error)}})}catch(e){throw console.error("Error clearing folder handle:",e),e}}async function mr(e,t){try{const r=await Kt(),n=r.transaction(st,"readwrite");return n.objectStore(st).put({name:e,content:t},e),new Promise((o,i)=>{n.oncomplete=()=>{r.close(),o()},n.onerror=()=>{r.close(),i(n.error)}})}catch(r){throw console.error("Error saving browser file:",r),r}}async function gn(){try{const e=await Kt(),n=e.transaction(st,"readonly").objectStore(st).getAll();return new Promise((s,o)=>{n.onsuccess=()=>{e.close(),s(n.result||[])},n.onerror=()=>{e.close(),o(n.error)}})}catch(e){return console.error("Error loading all browser files:",e),[]}}async function tn(e){try{const t=await Kt(),r=t.transaction(st,"readwrite");return r.objectStore(st).delete(e),new Promise((s,o)=>{r.oncomplete=()=>{t.close(),s()},r.onerror=()=>{t.close(),o(r.error)}})}catch(t){throw console.error("Error deleting browser file:",t),t}}const Lt={defaultTitle:"",defaultArtist:"",defaultKey:"",defaultInfo:"",newFileTemplate:`Title: 
Artist: 
Key: 

`},ue={minZoom:50,maxZoom:250,defaultZoom:100,minAutoscrollSpeed:.1,maxAutoscrollSpeed:5,defaultAutoscrollSpeed:1,autoscrollStepSize:.1,autoscrollPixelsPerSecond:5},kt={leftSidebarBg:"#2a2a2a",leftSidebarBorder:"#3a3a3a",leftSidebarText:"#ffffff",rightSidebarBg:"#2a2a2a",rightSidebarBorder:"#3a3a3a",rightSidebarText:"#ffffff"},gr={defaultTheme:"dark",storageKey:"chord-converter-theme"};class Os{async readFile(t){return String(t.content||"")}async writeFile(t,r){await mr(t.path,r)}async createFile(t,r,n){const s=r?`${r}/${t}`:t;return await mr(s,n),{name:t,path:s,content:n}}async deleteFile(t){await tn(t.path)}async renameFile(t,r,n){const s=await this.readFile(t),o=n?`${n}/${r}`:r;return await tn(t.path),await mr(o,s),{name:r,path:o,content:s}}async listFiles(){return(await gn()).map(r=>{const n=r.name.split("/");return{name:n[n.length-1],path:r.name,content:r.content}})}async importFiles(t){const r=[];for(const n of t){const s=n.path.split("/"),o=s[s.length-1];await mr(n.path,n.content),r.push({name:o,path:n.path,content:n.content})}return r}}class Li{constructor(t){this.folderHandle=t}async readFile(t){if(!t.handle)throw new Error("File handle not available");return await(await t.handle.getFile()).text()}async writeFile(t,r){if(!t.handle)throw new Error("File handle not available");const n=await t.handle.createWritable();await n.write(r),await n.close()}async createFile(t,r,n){let s=this.folderHandle;if(r)for(const a of r.split("/"))s=await s.getDirectoryHandle(a,{create:!0});const o=await s.getFileHandle(t,{create:!0}),i=await o.createWritable();await i.write(n),await i.close();const l=r?`${r}/${t}`:t;return{name:t,path:l,handle:o}}async deleteFile(t){const r=t.path.split("/");let n=this.folderHandle;for(let s=0;s<r.length-1;s++)n=await n.getDirectoryHandle(r[s],{create:!1});await n.removeEntry(t.name)}async renameFile(t,r,n){const s=await this.readFile(t),o=await this.createFile(r,n,s);return await this.deleteFile(t),o}async listFiles(){const t=[];async function r(n,s){for await(const o of n.values()){const i=s?`${s}/${o.name}`:o.name;o.kind==="file"&&o.name.toLowerCase().endsWith(".chords")?t.push({name:o.name,path:i,handle:o}):o.kind==="directory"&&await r(o,i)}}return await r(this.folderHandle,""),t.sort((n,s)=>n.path.localeCompare(s.path)),t}async importFiles(t){const r=[];for(const n of t){const s=n.path.split("/"),o=s[s.length-1],i=s.slice(0,-1).join("/"),l=await this.createFile(o,i,n.content);r.push(l)}return r}}let tr=null;function Ni(e){e?tr=new Li(e):tr=new Os}function qt(){return tr||(tr=new Os),tr}async function Vt(e){return qt().readFile(e)}async function wn(e,t){return qt().writeFile(e,t)}async function rn(e,t,r,n=!1){const s=n?"":Lt.newFileTemplate;return qt().createFile(e,t,s)}async function bn(e,t){return qt().deleteFile(e)}async function Mi(e,t,r){const n=t.endsWith(".chords")?t:`${t}.chords`,o=e.path.split("/").slice(0,-1).join("/");return qt().renameFile(e,n,o)}async function $s(e){return qt().importFiles(e)}async function Ti(e){const t=[],r=new Set;async function n(s,o){for await(const i of s.values()){const l=o?`${o}/${i.name}`:i.name;i.kind==="file"&&i.name.toLowerCase().endsWith(".chords")?t.push({name:i.name,path:l,handle:i}):i.kind==="directory"&&(r.add(l),await n(i,l))}}return await n(e,""),t.sort((s,o)=>s.path.localeCompare(o.path)),{files:t,folders:r}}async function Ds(){return(await gn()).map(t=>({name:t.name.split("/").pop()||t.name,path:t.name,content:t.content}))}const $n={storageMode:"browser",folderHandle:null,files:[],currentFile:null,currentContent:"",error:null,loading:!1};function Ri(){const{subscribe:e,set:t,update:r}=fr($n);return{subscribe:e,setStorageMode:n=>{r(s=>({...s,storageMode:n}))},setFolderHandle:n=>{Ni(n),r(s=>({...s,folderHandle:n,storageMode:n?"filesystem":"browser",files:n?[]:s.files}))},setFiles:n=>{r(s=>({...s,files:n}))},addFile:n=>{r(s=>({...s,files:[...s.files,n].sort((o,i)=>o.name.localeCompare(i.name))}))},updateFile:(n,s)=>{r(o=>({...o,files:o.files.map(i=>i.name===n?s:i).sort((i,l)=>i.name.localeCompare(l.name)),currentFile:o.currentFile?.name===n?s:o.currentFile}))},deleteFile:n=>{r(s=>({...s,files:s.files.filter(o=>o.path!==n),currentFile:s.currentFile?.path===n?null:s.currentFile,currentContent:s.currentFile?.path===n?"":s.currentContent}))},setCurrentFile:n=>{r(s=>({...s,currentFile:n}))},setCurrentContent:n=>{r(s=>({...s,currentContent:n}))},setError:n=>{r(s=>({...s,error:n}))},setLoading:n=>{r(s=>({...s,loading:n}))},reset:()=>{t($n)}}}const h=Ri(),Ii="modulepreload",Oi=function(e){return"/chord-converter/"+e},Dn={},$i=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){let c=function(f){return Promise.all(f.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};var i=c;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),a=l?.nonce||l?.getAttribute("nonce");s=c(r.map(f=>{if(f=Oi(f),f in Dn)return;Dn[f]=!0;const u=f.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${d}`))return;const v=document.createElement("link");if(v.rel=u?"stylesheet":Ii,u||(v.as="script"),v.crossOrigin="",v.href=f,a&&v.setAttribute("nonce",a),document.head.appendChild(v),u)return new Promise((p,F)=>{v.addEventListener("load",p),v.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=l,window.dispatchEvent(a),!a.defaultPrevented)throw l}return s.then(l=>{for(const a of l||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},Pn={expandedFolders:new Set,editingPath:null,editingValue:"",selectedFolderPath:null};function Di(){const{subscribe:e,set:t,update:r}=fr(Pn);return{subscribe:e,toggleFolder:n=>{r(s=>{const o=new Set(s.expandedFolders);return o.has(n)?o.delete(n):o.add(n),{...s,expandedFolders:o,selectedFolderPath:n}})},expandFolder:n=>{r(s=>{const o=new Set(s.expandedFolders);return o.add(n),{...s,expandedFolders:o}})},collapseFolder:n=>{r(s=>{const o=new Set(s.expandedFolders);return o.delete(n),{...s,expandedFolders:o}})},expandPath:n=>{r(s=>{const o=new Set(s.expandedFolders),i=n.split("/");for(let l=1;l<=i.length;l++){const a=i.slice(0,l).join("/");a&&o.add(a)}return{...s,expandedFolders:o}})},selectFolder:n=>{r(s=>({...s,selectedFolderPath:n}))},startEditing:(n,s)=>{r(o=>({...o,editingPath:n,editingValue:s}))},updateEditingValue:n=>{r(s=>({...s,editingValue:n}))},cancelEditing:()=>{r(n=>({...n,editingPath:null,editingValue:""}))},reset:()=>{t(Pn)}}}const He=Di();function Pi(e,t){const r=[],n=new Map;for(const s of t){const o=s.split("/");let i=r,l="";for(let a=0;a<o.length;a++){if(l=l?`${l}/${o[a]}`:o[a],!n.has(l)){const c={name:o[a],path:l,isFolder:!0,children:[]};n.set(l,c),i.push(c)}i=n.get(l).children}}for(const s of e){const o=s.path.split("/");let i=r,l="";for(let a=0;a<o.length-1;a++){if(l=l?`${l}/${o[a]}`:o[a],!n.has(l)){const c={name:o[a],path:l,isFolder:!0,children:[]};n.set(l,c),i.push(c)}i=n.get(l).children}i.push({name:s.name,path:s.path,isFolder:!1,file:s,children:[]})}return r}async function Hi(e){try{h.setLoading(!0),h.setError(null);const t=await Vt(e);h.setCurrentFile(e),h.setCurrentContent(t)}catch(t){throw h.setError(`Error reading file: ${t.message}`),t}finally{h.setLoading(!1)}}async function Bi(e){let t="",r=e;if(e.includes("/")){const f=e.split("/");r=f.pop()||"",t=f.join("/")}if(e.endsWith("/")){let f;h.subscribe(v=>{f=v.folderHandle||void 0})();const d=".keep";try{h.setLoading(!0),h.setError(null);const v=await rn(d,t,f,!0);h.addFile(v);return}catch(v){throw h.setError(`Error creating folder: ${v.message}`),v}finally{h.setLoading(!1)}}let n,s=!1;r.lastIndexOf(".")>0?(n=r,s=!0):(n=`${r}.chords`,s=!1);const l=t?`${t}/${n}`:n,a=h;let c=[];if(a.subscribe(f=>{c=f.files})(),c.some(f=>f.path===l))throw h.setError(`File "${l}" already exists`),new Error(`File "${l}" already exists`);try{h.setLoading(!0),h.setError(null);let f;a.subscribe(v=>{f=v.folderHandle||void 0})();const u=await rn(n,t,f,s);h.addFile(u),h.setCurrentFile(u);const d=await Vt(u);h.setCurrentContent(d)}catch(f){throw h.setError(`Error creating file: ${f.message}`),f}finally{h.setLoading(!1)}}async function ji(e,t){try{h.setLoading(!0);let r;h.subscribe(s=>{r=s.folderHandle||void 0})();const n=await Mi(e,t,r);h.deleteFile(e.path),h.addFile(n),h.subscribe(s=>{s.currentFile?.path===e.path&&h.setCurrentFile(n)})(),He.cancelEditing()}catch(r){throw h.setError(`Error renaming: ${r.message}`),r}finally{h.setLoading(!1)}}async function Ki(e,t){try{h.setLoading(!0);let r=[];h.subscribe(o=>{r=o.files})();const n=r.filter(o=>o.path.startsWith(e+"/"));if(n.length===0)throw h.setError("Cannot rename empty folder"),new Error("Cannot rename empty folder");let s;h.subscribe(o=>{s=o.folderHandle||void 0})();for(const o of n){const i=o.path.substring(e.length+1),l=`${t}/${i}`,a=o.name,c=await Vt(o),f=await rn(a,t,s);await wn(f,c),await bn(o,s),h.deleteFile(o.path),h.addFile(f)}He.cancelEditing()}catch(r){throw h.setError(`Error renaming folder: ${r.message}`),r}finally{h.setLoading(!1)}}async function qi(e){try{h.setLoading(!0);let t;h.subscribe(r=>{t=r.folderHandle||void 0})(),await bn(e,t),h.deleteFile(e.path)}catch(t){throw h.setError(`Error deleting: ${t.message}`),t}finally{h.setLoading(!1)}}async function Vi(e){try{h.setLoading(!0);let t=[];h.subscribe(s=>{t=s.files})();const r=t.filter(s=>s.path.startsWith(e+"/"));if(r.length===0)throw h.setError("Folder is empty or does not exist"),new Error("Folder is empty");let n;h.subscribe(s=>{n=s.folderHandle||void 0})();for(const s of r)await bn(s,n),h.deleteFile(s.path)}catch(t){throw h.setError(`Error deleting folder: ${t.message}`),t}finally{h.setLoading(!1)}}async function Gr(e){try{console.log("Loading files from folder:",e.name);const t=await Ti(e);console.log("Total files found:",t.files.length),h.setFiles(t.files)}catch(t){throw console.error("Error loading files:",t),h.setError(`Error loading files: ${t.message}`),t}}async function Wi(e,t){for(const r of t)try{const s=await(await e.getFileHandle(r.name,{create:!0})).createWritable();await s.write(r.content),await s.close(),await tn(r.name)}catch(n){console.error(`Error migrating file ${r.name}:`,n)}}async function zi(e){try{h.setError(null);const t=await Vt(e),r=new Blob([t],{type:"text/plain"}),n=URL.createObjectURL(r),s=document.createElement("a");s.href=n,s.download=e.name,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n)}catch(t){throw h.setError(`Error downloading file: ${t.message}`),t}}async function Ui(e){if(e.length===0)throw h.setError("No files to download"),new Error("No files to download");try{h.setLoading(!0),h.setError(null);const t=(await $i(async()=>{const{default:i}=await import("./jszip.min-Cw-0DF-X.js").then(l=>l.j);return{default:i}},[])).default,r=new t;for(const i of e){const l=await Vt(i);r.file(i.path,l)}const n=await r.generateAsync({type:"blob"}),s=URL.createObjectURL(n),o=document.createElement("a");o.href=s,o.download="chords-files.zip",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(s)}catch(t){throw h.setError(`Error downloading files: ${t.message}`),t}finally{h.setLoading(!1)}}async function Gi(e){const t=[];async function r(n,s=""){if(n.isFile){const o=await new Promise((a,c)=>{n.file(a,c)}),i=await o.text(),l=s?`${s}/${o.name}`:o.name;t.push({path:l,content:i})}else if(n.isDirectory){const o=n.createReader(),i=await new Promise((a,c)=>{o.readEntries(a,c)}),l=s?`${s}/${n.name}`:n.name;for(const a of i)await r(a,l)}}try{h.setLoading(!0),h.setError(null);const n=Array.from(e.items);let s=!1;for(const f of n){const u=f.webkitGetAsEntry?.();u&&(s=!0,await r(u))}if(!s&&e.files.length>0){const f=Array.from(e.files);for(const u of f)if(u.type==="text/plain"||u.name.endsWith(".chords")){const d=await u.text(),v=u.webkitRelativePath||u.name;t.push({path:v,content:d})}}if(console.log("Total files found:",t.length),t.length===0){h.setError("No files found. Try using the import button.");return}let o=[];h.subscribe(f=>{o=f.files})();const i=new Set(o.map(f=>f.path)),l=t.filter(f=>i.has(f.path));let a=t;if(l.length>0){const u=`The following files already exist:

${l.map(v=>`  â¢ ${v.path}`).join(`
`)}

What would you like to do?`,d=confirm(`${u}

OK = Replace existing files
Cancel = Skip duplicates`);if(d===null||!d){if(!confirm("Skip duplicate files and import the rest?")){h.setError("Import cancelled");return}a=t.filter(p=>!i.has(p.path))}}if(a.length===0){h.setError("No files to import");return}const c=await $s(a);for(const f of c)i.has(f.path)&&h.deleteFile(f.path),h.addFile(f);h.setError(null)}catch(n){throw h.setError(`Error importing files: ${n.message}`),n}finally{h.setLoading(!1)}}async function Zi(e){try{if(h.setLoading(!0),h.setError(null),console.log("Total files to import:",e.length),e.length===0){h.setError("No files found");return}let t=[];h.subscribe(i=>{t=i.files})();const r=new Set(t.map(i=>i.path)),n=e.filter(i=>r.has(i.path));let s=e;if(n.length>0){const l=`The following files already exist:

${n.map(c=>`  â¢ ${c.path}`).join(`
`)}

What would you like to do?`,a=confirm(`${l}

OK = Replace existing files
Cancel = Skip duplicates`);if(a===null||!a){if(!confirm("Skip duplicate files and import the rest?")){h.setError("Import cancelled");return}s=e.filter(f=>!r.has(f.path))}}if(s.length===0){h.setError("No files to import");return}const o=await $s(s);for(const i of o)r.has(i.path)&&h.deleteFile(i.path),h.addFile(i);h.setError(null)}catch(t){throw h.setError(`Error importing files: ${t.message}`),t}finally{h.setLoading(!1)}}var Yi=P("<button><!></button>");function Nt(e,t){let r=we(t,"disabled",3,!1),n=we(t,"title",3,""),s=we(t,"variant",3,"secondary"),o=we(t,"class",3,"");var i=Yi();i.__click=function(...a){t.onclick?.apply(this,a)};var l=T(i);fi(l,()=>t.children),ee(()=>{Xe(i,1,`btn ${s()??""} ${o()??""}`,"svelte-18sv61c"),i.disabled=r(),or(i,"title",n())}),N(e,i)}yt(["click"]);var Xi=P('<div class="download-section svelte-1ux0dtp"><!> <!></div>');function Ji(e,t){Fe(t,!1);const r=()=>oe(h,"$fileStore",n),[n,s]=ze();async function o(){try{await Ui(r().files)}catch{}}async function i(){if(!r().currentFile){h.setError("No file selected");return}try{await zi(r().currentFile)}catch{}}Is();var l=Te(),a=ge(l);{var c=f=>{var u=Xi(),d=T(u);{let p=vt(()=>!r().currentFile||r().loading);Nt(d,{onclick:i,get disabled(){return _(p)},title:"Download current file",children:(F,m)=>{var x=Ye("â¬ï¸ Current");N(F,x)},$$slots:{default:!0}})}var v=$(d,2);Nt(v,{onclick:o,get disabled(){return r().loading},title:"Download all files",children:(p,F)=>{var m=Ye();ee(()=>se(m,`â¬ï¸ All (${r().files.length??""})`)),N(p,m)},$$slots:{default:!0}}),N(f,u)};Y(a,f=>{r().storageMode==="browser"&&r().files.length>0&&f(c)})}N(e,l),xe(),s()}var Qi=P('<div class="top-buttons svelte-xayl53"><!> <!></div>'),el=P('<div class="folder-info svelte-xayl53"><span class="folder-name svelte-xayl53"> </span> <span class="file-count svelte-xayl53"> </span></div> <div class="folder-actions svelte-xayl53"><!> <!></div>',1),tl=P('<div class="folder-picker svelte-xayl53"><input type="file" multiple webkitdirectory accept=".chords,text/plain" style="display: none;"/> <!> <!> <!></div>');function rl(e,t){Fe(t,!1);const r=()=>oe(h,"$fileStore",n),[n,s]=ze();let o=Fr(!1);Dr(async()=>{if(te(o,"showDirectoryPicker"in window),!_(o)){console.log("File System Access API not supported - browser mode only");return}await i()});async function i(){try{h.setLoading(!0);const w=await ki();if(w){const S=await w.queryPermission({mode:"readwrite"});S==="granted"?(h.setFolderHandle(w),await Gr(w),h.setError(null)):S==="prompt"&&await w.requestPermission({mode:"readwrite"})==="granted"&&(h.setFolderHandle(w),await Gr(w),h.setError(null))}}catch(w){console.error("Error restoring folder handle:",w)}finally{h.setLoading(!1)}}async function l(){try{h.setLoading(!0),h.setError(null);const w=await window.showDirectoryPicker({mode:"readwrite"}),S=await gn();S.length>0&&confirm(`You have ${S.length} file(s) saved in the browser. Would you like to move them to the selected folder?`)&&await Wi(w,S),await xi(w),h.setFolderHandle(w),await Gr(w)}catch(w){w.name==="AbortError"?console.log("Folder selection cancelled"):h.setError(`Error selecting folder: ${w.message}`)}finally{h.setLoading(!1)}}async function a(){await Ai(),h.setFolderHandle(null);try{const w=await Ds();if(w.length>0){h.setFiles(w);const S=w[0];h.setCurrentFile(S),h.setCurrentContent(S.content||"")}else h.setFiles([]),h.setCurrentFile(null),h.setCurrentContent("")}catch(w){console.error("Error loading browser files:",w),h.setFiles([]),h.setCurrentFile(null),h.setCurrentContent("")}}let c=Fr();async function f(w){const S=w.target;if(!(!S.files||S.files.length===0))try{const y=[];for(const g of Array.from(S.files))if(g.type==="text/plain"||g.name.endsWith(".chords")){const C=await g.text(),k=g.webkitRelativePath||g.name;y.push({path:k,content:C})}y.length>0&&await Zi(y),S.value=""}catch{}}function u(){_(c)?.click()}Is();var d=tl(),v=T(d);v.__change=f,pn(v,w=>te(c,w),()=>_(c));var p=$(v,2);{var F=w=>{var S=Qi(),y=T(S);{let C=vt(()=>r().loading||!_(o)),k=vt(()=>_(o)?"":"File System Access is only supported in Chrome, Edge, and Opera. Please use one of these browsers to connect a folder."),I=vt(()=>_(o)?"":"unsupported");Nt(y,{onclick:l,get disabled(){return _(C)},get title(){return _(k)},variant:"primary",get class(){return _(I)},children:(L,B)=>{var K=Ye("Connect Folder");N(L,K)},$$slots:{default:!0}})}var g=$(y,2);Nt(g,{onclick:u,get disabled(){return r().loading},title:"Import folder with .chords files",children:(C,k)=>{var I=Ye("Import Folder");N(C,I)},$$slots:{default:!0}}),N(w,S)};Y(p,w=>{r().folderHandle||w(F)})}var m=$(p,2);{var x=w=>{var S=el(),y=ge(S),g=T(y),C=T(g),k=$(g,2),I=T(k),L=$(y,2),B=T(L);Nt(B,{onclick:l,get disabled(){return r().loading},title:"Change folder",children:(G,M)=>{var V=Ye("Change Folder");N(G,V)},$$slots:{default:!0}});var K=$(B,2);Nt(K,{onclick:a,get disabled(){return r().loading},title:"Disconnect folder",children:(G,M)=>{var V=Ye("Disconnect");N(G,V)},$$slots:{default:!0}}),ee(()=>{se(C,r().folderHandle.name),se(I,`(${r().files.length??""} files)`)}),N(w,S)};Y(m,w=>{r().folderHandle&&w(x)})}var R=$(m,2);Ji(R,{}),N(e,d),xe(),s()}yt(["change"]);var nl=P('<input type="text" class="filename-input svelte-1gdlmx0"/>'),sl=P('<span class="folder-icon svelte-1gdlmx0"> </span>'),ol=P('<div class="actions svelte-1gdlmx0"><button class="action-btn svelte-1gdlmx0" title="Rename">â</button> <button class="action-btn delete svelte-1gdlmx0" title="Delete">ð</button></div>'),il=P('<div class="item-row svelte-1gdlmx0"><button><!> <span class="name svelte-1gdlmx0"> </span></button> <!></div>'),ll=P('<ul class="nested svelte-1gdlmx0"></ul>'),al=P("<li><!> <!></li>");function Ps(e,t){Fe(t,!0);const r=()=>oe(He,"$fileManagerStore",s),n=()=>oe(h,"$fileStore",s),[s,o]=ze();let i=Q(()=>r().expandedFolders.has(t.node.path)),l=Q(()=>r().editingPath===t.node.path),a=Q(()=>r().editingValue),c=Q(()=>t.node.isFolder?r().selectedFolderPath===t.node.path:n().currentFile?.path===t.node.path);function f(){t.node.isFolder?(He.toggleFolder(t.node.path),h.setCurrentFile(null),h.setCurrentContent("")):t.node.file&&(He.selectFolder(null),t.onSelectFile(t.node.file))}function u(g){g.key==="Enter"?(g.preventDefault(),d()):g.key==="Escape"&&(g.preventDefault(),He.cancelEditing())}async function d(){if(!_(a).trim()||_(a)===t.node.name){He.cancelEditing();return}try{t.node.isFolder?await Ki(t.node.path,_(a)):t.node.file&&await ji(t.node.file,_(a))}catch{}}async function v(){const g=t.node.isFolder?"folder":"file";if(confirm(`Delete ${g} "${t.node.name}"? ${t.node.isFolder?"This will delete all files inside.":""}`))try{t.node.isFolder?await Vi(t.node.path):t.node.file&&await qi(t.node.file)}catch{}}function p(){He.startEditing(t.node.path,t.node.name)}var F=al();let m;var x=T(F);{var R=g=>{var C=nl();C.__input=k=>He.updateEditingValue(k.currentTarget.value),C.__keydown=u,ee(()=>pi(C,_(a))),br("blur",C,()=>d()),N(g,C)},w=g=>{var C=il(),k=T(C);let I;k.__click=f;var L=T(k);{var B=W=>{var q=sl(),Z=T(q);ee(()=>se(Z,_(i)?"ð":"ð")),N(W,q)};Y(L,W=>{t.node.isFolder&&W(B)})}var K=$(L,2),G=T(K),M=$(k,2);{var V=W=>{var q=ol(),Z=T(q);Z.__click=p;var b=$(Z,2);b.__click=v,ee(()=>{Z.disabled=n().loading,b.disabled=n().loading}),N(W,q)};Y(M,W=>{_(c)&&W(V)})}ee(()=>{I=Xe(k,1,"item-button svelte-1gdlmx0",null,I,{folder:t.node.isFolder}),k.disabled=n().loading,or(k,"title",t.node.name),se(G,t.node.name)}),N(g,C)};Y(x,g=>{_(l)?g(R):g(w,!1)})}var S=$(x,2);{var y=g=>{var C=ll();er(C,21,()=>t.node.children,Qt,(k,I)=>{Ps(k,{get node(){return _(I)},get onSelectFile(){return t.onSelectFile}})}),N(g,C)};Y(S,g=>{t.node.isFolder&&_(i)&&t.node.children.length>0&&g(y)})}ee(()=>m=Xe(F,1,"svelte-1gdlmx0",null,m,{selected:_(c)})),N(e,F),xe(),o()}yt(["input","keydown","click"]);var cl=P('<div class="empty-state svelte-cl84l2"><!></div>'),fl=P('<ul class="tree svelte-cl84l2"></ul>'),ul=P('<div class="drop-overlay svelte-cl84l2"><div class="drop-message svelte-cl84l2">Drop files or folders here</div></div>'),dl=P('<div role="region" aria-label="File manager with drag and drop support"><div class="file-list svelte-cl84l2"><!> <!></div> <button class="add-button svelte-cl84l2" title="Create new file or folder">New +</button></div>');function vl(e,t){Fe(t,!0);const r=()=>oe(h,"$fileStore",n),[n,s]=ze();let o=Q(()=>{const y=new Set;for(const g of r().files){const C=g.path.split("/");for(let k=1;k<C.length;k++)y.add(C.slice(0,k).join("/"))}return y}),i=Q(()=>Pi(r().files,_(o))),l=he(!1);async function a(){const y=prompt("Enter file name (or folder/filename for folders, folder/ for empty folder):");if(y)try{await Bi(y)}catch{}}async function c(y){y.preventDefault(),y.dataTransfer&&(y.dataTransfer.dropEffect="copy"),te(l,!0)}function f(y){y.currentTarget===y.target&&te(l,!1)}async function u(y){if(y.preventDefault(),te(l,!1),!!y.dataTransfer)try{await Gi(y.dataTransfer)}catch{}}var d=dl();let v;var p=T(d),F=T(p);{var m=y=>{var g=cl(),C=T(g);{var k=L=>{var B=Ye("No .chords files found");N(L,B)},I=L=>{var B=Ye('No files yet. Click "New +" to create one, or drag & drop .chords files here');N(L,B)};Y(C,L=>{r().storageMode==="filesystem"?L(k):L(I,!1)})}N(y,g)},x=y=>{var g=fl();er(g,21,()=>_(i),Qt,(C,k)=>{Ps(C,{get node(){return _(k)},get onSelectFile(){return Hi}})}),N(y,g)};Y(F,y=>{r().files.length===0?y(m):y(x,!1)})}var R=$(F,2);{var w=y=>{var g=ul();N(y,g)};Y(R,y=>{_(l)&&r().storageMode==="browser"&&y(w)})}var S=$(p,2);S.__click=a,ee(()=>{v=Xe(d,1,"file-manager svelte-cl84l2",null,v,{dragging:_(l)}),S.disabled=r().loading}),br("dragover",d,c),br("dragleave",d,f),br("drop",d,u),N(e,d),xe(),s()}yt(["click"]);const Hn={viewMode:"text",zoomLevel:ue.defaultZoom,isAutoscrolling:!1,autoscrollSpeed:ue.defaultAutoscrollSpeed,keyNumber:0,editedContent:"",lastSavedContent:"",isSaving:!1,saveSuccess:!1};function hl(){const{subscribe:e,set:t,update:r}=fr(Hn);return{subscribe:e,setViewMode:n=>{r(s=>({...s,viewMode:n}))},setZoomLevel:n=>{r(s=>({...s,zoomLevel:Math.max(ue.minZoom,Math.min(ue.maxZoom,n))}))},zoomIn:()=>{r(n=>({...n,zoomLevel:Math.min(n.zoomLevel+10,ue.maxZoom)}))},zoomOut:()=>{r(n=>({...n,zoomLevel:Math.max(n.zoomLevel-10,ue.minZoom)}))},setAutoscrolling:n=>{r(s=>({...s,isAutoscrolling:n}))},toggleAutoscroll:()=>{r(n=>({...n,isAutoscrolling:!n.isAutoscrolling}))},setAutoscrollSpeed:n=>{r(s=>({...s,autoscrollSpeed:Math.max(ue.minAutoscrollSpeed,Math.min(ue.maxAutoscrollSpeed,n))}))},increaseAutoscrollSpeed:()=>{r(n=>({...n,autoscrollSpeed:Math.min(n.autoscrollSpeed+ue.autoscrollStepSize,ue.maxAutoscrollSpeed)}))},decreaseAutoscrollSpeed:()=>{r(n=>({...n,autoscrollSpeed:Math.max(n.autoscrollSpeed-ue.autoscrollStepSize,ue.minAutoscrollSpeed)}))},setKeyNumber:n=>{r(s=>({...s,keyNumber:(n%12+12)%12}))},setEditedContent:n=>{r(s=>({...s,editedContent:n}))},setLastSavedContent:n=>{r(s=>({...s,lastSavedContent:n,editedContent:n}))},loadContent:(n,s)=>{r(o=>({...o,editedContent:n,lastSavedContent:n,keyNumber:(s%12+12)%12}))},setSaving:n=>{r(s=>({...s,isSaving:n}))},setSaveSuccess:n=>{r(s=>({...s,saveSuccess:n}))},reset:()=>{t(Hn)}}}const U=hl(),Hs=wi(U,e=>e.editedContent!==e.lastSavedContent);function pl(){const t=(typeof window<"u"?localStorage.getItem(gr.storageKey):null)||gr.defaultTheme,{subscribe:r,set:n,update:s}=fr(t);return{subscribe:r,set:o=>{localStorage.setItem(gr.storageKey,o),n(o)},toggle:()=>{s(o=>{const i=o==="dark"?"light":"dark";return localStorage.setItem(gr.storageKey,i),i})}}}const kr=pl();var _l=P('<textarea spellcheck="false" placeholder="File content..." class="svelte-11f5a2t"></textarea>');function ml(e,t){Fe(t,!0);const r=()=>oe(U,"$editorStore",s),n=()=>oe(kr,"$themeStore",s),[s,o]=ze();let i=we(t,"content",15,""),l=he(void 0),a=Q(()=>r().zoomLevel),c=Q(n);function f(d){(d.ctrlKey||d.metaKey)&&d.key==="s"&&d.preventDefault(),(d.ctrlKey||d.metaKey)&&(d.key==="+"||d.key==="=")&&(d.preventDefault(),U.zoomIn()),(d.ctrlKey||d.metaKey)&&d.key==="-"&&(d.preventDefault(),U.zoomOut())}var u=_l();u.__keydown=f,pn(u,d=>te(l,d),()=>_(l)),ee(()=>hn(u,`font-size: ${_(a)??""}%; background-color: ${_(c)==="light"?"#ffffff":"#1e1e1e"}; color: ${_(c)==="light"?"#333333":"#e0e0e0"};`)),mi(u,i),N(e,u),xe(),o()}yt(["keydown"]);const gl=[{name:"Major",aliases:["","M","maj"],intervals:[0,4,7]},{name:"Minor",aliases:["m","min"],intervals:[0,3,7]},{name:"Dominant 7th",aliases:["7","dom7"],intervals:[0,4,7,10]},{name:"Major 7th",aliases:["maj7","M7","7M"],intervals:[0,4,7,11]},{name:"Minor 7th",aliases:["m7","min7"],intervals:[0,3,7,10]},{name:"Dominant 9th",aliases:["9"],intervals:[0,4,7,10,14]},{name:"Major 9th",aliases:["maj9","M9"],intervals:[0,4,7,11,14]},{name:"Minor 9th",aliases:["m9","min9"],intervals:[0,3,7,10,14]},{name:"Dominant 11th",aliases:["11"],intervals:[0,4,7,10,14,17]},{name:"Major 11th",aliases:["maj11","M11"],intervals:[0,4,7,11,14,17]},{name:"Minor 11th",aliases:["m11","min11"],intervals:[0,3,7,10,14,17]},{name:"Diminished",aliases:["dim","Â°"],intervals:[0,3,6],coords:[[0,0],[-1,0],[-2,0]]},{name:"Diminished 7th",aliases:["dim7","Â°7"],intervals:[0,3,6,9],coords:[[0,0],[-1,0],[-2,0],[-3,0]]},{name:"Half-diminished 7th",aliases:["m7b5","Ã¸7"],intervals:[0,3,6,10],coords:[[0,0],[-1,0],[-2,0],[-1,1]]},{name:"Augmented",aliases:["aug","+"],intervals:[0,4,8],coords:[[0,0],[1,1],[2,2]]},{name:"Suspended 2nd",aliases:["sus2","add9"],intervals:[0,2,7]},{name:"Suspended 4th",aliases:["sus4","sus"],intervals:[0,5,7],coords:[[0,0],[0,-1],[0,1]]},{name:"Major 6th",aliases:["6","M6","maj6"],intervals:[0,4,7,9]},{name:"Minor 6th",aliases:["m6","min6"],intervals:[0,3,7,9]},{name:"Dominant 13th",aliases:["13"],intervals:[0,4,7,10,14,17,21]},{name:"Major 13th",aliases:["maj13","M13"],intervals:[0,4,7,11,14,17,21]},{name:"Minor 13th",aliases:["m13","min13"],intervals:[0,3,7,10,14,17,21]},{name:"Power Chord",aliases:["5"],intervals:[0,7]},{name:"Minor Augmented",aliases:["m#5"],intervals:[0,3,8],coords:[[0,0],[-1,0],[2,2]]},{name:"Seven Sus 4",aliases:["7sus4","7sus"],intervals:[0,5,7,10],coords:[[0,0],[0,-1],[0,1],[-1,1]]}],wl={chords:gl},bl=wl.chords.map(e=>({name:e.name,aliases:e.aliases,intervals:e.intervals,...e.coords&&{coords:e.coords},...e.bass_coord&&{bass_coord:e.bass_coord}}));function yl(e,t){return(e%t+t)%t}const Sl=["A","Bb","B","C","Db","D","Eb","E","F","Gb","G","Ab"],El=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],Cl=["Cb","E#","Fb","B#"],Fl=[...Sl,...El,...Cl],xl=[7,2,9,4,11,6,1,8,3,10,5,0,7,2,9,4,11,6,1,8,3,10,5,0,9,3,8,4],Bn=Fl.map((e,t)=>[e,xl[t]]).sort((e,t)=>t[0].length-e[0].length);function nn(e){const t=e.split("/"),r=t[0];let n,s="";for(const[o,i]of Bn)if(r.length>=o.length&&r.substring(0,o.length)===o){n=i,s=r.substring(o.length);break}if(n===void 0)return null;for(const o of bl)for(const i of o.aliases)if(s===i){let l=0;if(t.length>1){const a=t[1];for(const[c,f]of Bn)if(a===c){l=f,l=yl((l-n)*7,12);break}}return{root:n,type:o,bass:l}}return null}const yn=90,Bs=yn*.3,Je=5+Math.max(70,yn),js=50,Pt=200,It=Pt*Math.sqrt(3)/2,Ks=-Pt/2,kl=[[0,0],[1,0],[0,1],[1,1],[0,2],[1,2]],qs={CHORD_COLOR:"#333333",CHORD_RAD:70,TONIC_COLOR:"#BDBDBD",BASS_INNER_COLOR:"white"},Vs={CHORD_COLOR:"#d7d7d7ff",CHORD_RAD:70,TONIC_COLOR:"#646464ff",BASS_INNER_COLOR:"#1e1e1e"};function jn(e,t){return(e%t+t)%t}function be(e,t){return[e[0]+t[0],e[1]+t[1]]}function Ar(e){const r=jn(7*e+3,12)-3,n=Math.floor(r/3),s=jn(r,3);return[n,s]}function Ws(e,t){const r=Ar(e),n=[[0,0],[-1,3],[1,-3]];let s=null,o=1/0;for(const i of n){const l=be(r,i);for(const a of t){const c=Math.sqrt(Math.pow(l[0]-a[0],2)+Math.pow(l[1]-a[1],2));c<o&&(o=c,s=l)}}return s}function Al(e,t="dark"){const r=t==="light"?qs:Vs,n=r.CHORD_RAD,s=r.CHORD_COLOR,o=r.TONIC_COLOR,i=r.BASS_INNER_COLOR,l=[],a=[];for(let E=0;E<30;E++){l[E]=[],a[E]=[];for(let O=0;O<30;O++)l[E][O]=It*E,a[E][O]=Pt*O+Ks*E}const c=e.type.intervals,f=e.type.coords;let u=f?f.map(E=>[E[0],E[1]]):c.map(Ar);const d=e.type.bass_coord;let v=[d?[d[0],d[1]]:Ws(e.bass,u)];const p=Ar(e.root*7);u=u.map(E=>be(E,p)),v=v.map(E=>be(E,p));const F=[[0,0],[-1,3],[1,-3]],m=[1,2],x=[[0,0,.2,.2,.2,.3,0,0],[.3,.5,1,1,1,.8,0,0],[0,.5,1,1,1,.7,0,0],[0,0,0,0,0,0,0,0]];let R=null,w=-1;for(const E of F){const z=u.map(X=>be(be(X,E),m)).reduce((X,[re,ie])=>re>=0&&re<x.length&&ie>=0&&ie<x[0].length?X+x[re][ie]:X,0);z>w&&(w=z,R=E)}R&&(u=u.map(E=>be(E,R)),v=v.map(E=>be(E,R)));const S=[...kl],y=[...v,...u,...S],g=Math.min(...y.map(E=>E[0])),C=Math.min(...y.map(E=>E[1])),k=E=>E.map(O=>be(O,[-g,-C])),I=k(v),L=k(u),B=k(S),G=[...I,...L,...B].map(([E,O])=>a[E][O]),M=Math.min(...G),W=Math.max(...G)-M+2*Je,q=It*5+2*Je,Z=l.map(E=>E.map(O=>O-(-g-2)*It+Je)),b=a.map(E=>E.map(O=>O-M+Je));let A=`<svg class="chord-icon" viewBox="0 0 ${W} ${q}" data-w="${W}" data-h="${q}" xmlns="http://www.w3.org/2000/svg">
`;const j=(E,O,z)=>{const X=b[E[0]][E[1]],re=Z[E[0]][E[1]];return`  <circle cx="${X}" cy="${re}" r="${O}" fill="${z}" />
`};for(const E of B)A+=j(E,yn,o);for(let E=0;E<L.length;E++){const[O,z]=L[E],X=b[O][z],re=Z[O][z];for(let ie=E+1;ie<L.length;ie++){const[Se,Ue]=L[ie],ot=b[Se][Ue],it=Z[Se][Ue];Math.sqrt(Math.pow(ot-X,2)+Math.pow(it-re,2))<1.5*Pt&&(A+=`  <line x1="${X}" y1="${re}" x2="${ot}" y2="${it}" stroke="${s}" stroke-width="${js}" />
`)}}for(const E of L)A+=j(E,n,s);for(const E of I){const O=b[E[0]][E[1]],z=Math.min(...L.map(([X,re])=>b[X][re]));O!==z&&(A+=j(E,n,s),A+=j(E,Bs,i))}return A+="</svg>",A}function Ll(e,t="dark"){const r=t==="light"?qs:Vs,n=r.CHORD_RAD,s=r.CHORD_COLOR,o=r.BASS_INNER_COLOR,i=[],l=[];for(let b=0;b<30;b++){i[b]=[],l[b]=[];for(let A=0;A<30;A++)i[b][A]=It*b,l[b][A]=Pt*A+Ks*b}const a=e.type.intervals,c=e.type.coords;let f=c?c.map(b=>[b[0],b[1]]):a.map(Ar);const u=e.type.bass_coord;let d=[u?[u[0],u[1]]:Ws(e.bass,f)];const v=[];for(let b=-4;b<=4;b++)v.push([b,2]);const p=[1,2],F=[[0,0,0,0,0,0,0,0],[1,1,1,1,1,1,1,1],[1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1],[0,0,0,0,0,0,0,0]],m=f.map(b=>f.reduce((A,j)=>b===j?A:b[0]===j[0]&&Math.abs(b[1]-j[1])===1||b[0]+1===j[0]&&(b[1]===j[1]||b[1]+1===j[1])||b[0]-1===j[0]&&(b[1]===j[1]||b[1]-1===j[1])?A+1:A,0));let x=[0,0],R=-1;for(const b of v){const j=f.map(E=>be(be(E,b),p)).reduce((E,[O,z],X)=>O>=0&&O<F.length&&z>=0&&z<F[0].length?E+F[O][z]*m[X]:E,0);j>R&&(R=j,x=b)}x&&(f=f.map(b=>be(b,x)),d=d.map(b=>be(b,x)));const w=[...d,...f],S=Math.min(...w.map(b=>b[0])),y=Math.min(...w.map(b=>b[1])),g=b=>b.map(A=>be(A,[-S,-y])),C=g(d),k=g(f),L=[...C,...k].map(([b,A])=>l[b][A]),B=Math.min(...L),G=Math.max(...L)-B+2*Je,M=It*5+2*Je,V=i.map(b=>b.map(A=>A-(-S-2)*It+Je)),W=l.map(b=>b.map(A=>A-B+Je));let q=`<svg class="chord-icon" viewBox="0 0 ${G} ${M}" data-w="${G}" data-h="${M}" xmlns="http://www.w3.org/2000/svg">
`;const Z=(b,A,j)=>{const E=W[b[0]][b[1]],O=V[b[0]][b[1]];return`  <circle cx="${E}" cy="${O}" r="${A}" fill="${j}" />
`};for(let b=0;b<k.length;b++){const[A,j]=k[b],E=W[A][j],O=V[A][j];for(let z=b+1;z<k.length;z++){const[X,re]=k[z],ie=W[X][re],Se=V[X][re];Math.sqrt(Math.pow(ie-E,2)+Math.pow(Se-O,2))<1.5*Pt&&(q+=`  <line x1="${E}" y1="${O}" x2="${ie}" y2="${Se}" stroke="${s}" stroke-width="${js}" />
`)}}for(const b of k)q+=Z(b,n,s);for(const b of C){const A=W[b[0]][b[1]],j=Math.min(...k.map(([E,O])=>W[E][O]));A!==j&&(q+=Z(b,n,s),q+=Z(b,Bs,o))}return q+="</svg>",q}function Nl(e){const t=e.split(`
`),r=[];for(const l of t){const a=l.trim();if(a.startsWith("Title:")||a.startsWith("Artist:")||a.startsWith("Key:")||a.startsWith("Info:")||a.startsWith("["))continue;const c=l.split(/\s+/);for(const f of c){const u=nn(f);u&&r.push(u)}}if(r.length===0)return null;const n=new Array(12).fill(0);for(const l of r){for(const a of l.type.intervals){const c=(l.root+a*7)%12;n[c]+=1}n[(l.root+l.bass*7)%12]+=2}const s=[10,0,4,174,265,231,139,221,180,100,6,2];let o=-1/0,i=0;for(let l=0;l<12;l++){let a=0;for(let c=0;c<12;c++)a+=n[(c+l)%12]*s[c];a>o&&(o=a,i=l)}return(i+4)%12}function Ml(e){if(e.length===0)return 0;const t=new Array(12).fill(0);for(const o of e){for(const i of o.type.intervals){const l=(o.root+i*7)%12;t[l]+=1}t[(o.root+o.bass*7)%12]+=2}const r=[10,0,4,174,265,231,139,221,180,100,6,2];let n=-1/0,s=0;for(let o=0;o<12;o++){let i=0;for(let l=0;l<12;l++)i+=t[(l+o)%12]*r[l];i>n&&(n=i,s=o)}return s}var Tl=P('<div class="heading svelte-1v1asr8"> </div>'),Rl=P('<pre class="lyrics svelte-1v1asr8"></pre>'),Il=P('<div class="subheading svelte-1v1asr8"> </div>'),Ol=P('<pre class="lyrics svelte-1v1asr8"> </pre>'),$l=P('<span class="root-number svelte-1v1asr8"> </span>'),Dl=P('<div class="chord-container svelte-1v1asr8"><!><!></div>'),Pl=P('<div class="chord-container word-container svelte-1v1asr8"><span class="chord-word svelte-1v1asr8"> </span></div>'),Hl=P('<span class="marker chord-marker svelte-1v1asr8"><!></span>'),Bl=P("<!> ",1),jl=P('<div class="chord-line-wrapper svelte-1v1asr8"><pre class="lyrics chord-markers svelte-1v1asr8"></pre></div>'),Kl=P('<div class="chord-view svelte-1v1asr8"></div>');function ql(e,t){Fe(t,!0);const r=8;let n=we(t,"content",3,""),s=we(t,"zoomLevel",3,100),o=we(t,"isAutoscrolling",3,!1),i=we(t,"autoscrollSpeed",3,1),l=we(t,"theme",3,"dark"),a=we(t,"showRootNumbers",3,!1),c=we(t,"keyNumber",3,0),f;function u(w){const S=w.trim();if(S.length===0)return"empty";if(S.startsWith("["))return"subheading";const y=w.split(" ").filter(L=>L!=="");if(y.length===0)return"empty";const g=y.map(L=>L.split("/")[0]),C=g.length;return g.map(L=>nn(L)!==null||L==="|"||L===".").filter(Boolean).length/Math.max(1,C)>.35?"chords":"lyrics"}function d(w){const S=w.filter(g=>g.isChord).map(g=>g.content),y=Ml(S);for(const g of w){if(!g.isChord)continue;const C=g.content;C.root=(C.root-y+12)%12}return w}function v(w,S){const g=w.split(`
`).map(M=>M.trimEnd()).filter(M=>M.trim()!==""),C=g.map(u),k=[],I=g.map(()=>[]);for(let M=0;M<g.length;M++){const V=g[M];if(C[M]!=="chords")continue;const q=V.split(" ");let Z=0;for(const b of q){if(b===""){Z+=1;continue}const A=nn(b),j=A||b;I[M].push(k.length),k.push({pos:[M,Z],content:j,isChord:A!==null}),Z+=b.length+1}}const L=d(k),B=new Map,K=[];let G=-1;for(let M=0;M<g.length;M++)if(g[M].toLowerCase().split(" ")[0].endsWith(":"))G=M;else if(G>=0)break;for(let M=0;M<g.length;M++){const V=g[M],W=C[M];if(M===G+1&&G>=0&&(K.push({type:"lyrics",content:" "}),K.push({type:"lyrics",content:""})),M===0){let q=V;q.toLowerCase().startsWith("title:")&&(q=q.substring(6).trim()),q=q.toUpperCase(),K.push({type:"heading",content:q})}else if(W==="subheading")K.push({type:"subheading",content:V});else if(W==="lyrics")K.push({type:"lyrics",content:V});else if(W==="chords"){const q=I[M].map(A=>L[A]);let Z=0;for(const A of q)Z=Math.max(Z,A.pos[1]);const b=q.map(A=>{const j=`mk-${M}-${A.pos[1]}`;if(A.isChord){const E=A.content,z=`${a()?"simplified":"full"}-${E.root}-${E.type.intervals.join(",")}-${E.bass}-${S}`;if(!B.has(z)){const X={...E,root:E.root-3},re=a()?Ll:Al;B.set(z,re(X,S))}return{pos:A.pos[1],svg:B.get(z),word:"",markerId:j,rootNumber:E.root}}else{const E=A.content;return{pos:A.pos[1],svg:"",word:E,markerId:j,rootNumber:void 0}}});K.push({type:"chords",content:V,chords:b,maxPos:Z+2})}}return K}function p(){if(!f)return;f.querySelectorAll(".chord-line-wrapper").forEach(S=>{const y=S.getBoundingClientRect(),g=Array.from(S.querySelectorAll(".chord-markers .chord-marker")),C=[];g.forEach(I=>{const L=I.querySelectorAll(".chord-container");I.id,L.forEach(B=>{const K=B.classList.contains("word-container");C.push({type:K?"word":"chord",element:B,naturalLeft:I.getBoundingClientRect().left-y.left})})}),C.sort((I,L)=>I.naturalLeft-L.naturalLeft);let k=-1/0;C.forEach(I=>{const L=I.element;L.style.transform="translateX(0px)";const K=L.getBoundingClientRect().width;let G=I.naturalLeft;I.naturalLeft<k+r&&(G=k+r);const M=G-I.naturalLeft;M!==0&&(L.style.transform=`translateX(${M}px)`),k=G+K})})}let F=Q(()=>v(n(),l()));Dr(()=>(p(),window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p)})),Be(()=>{_(F),s(),setTimeout(p,0)});let m=null,x=0;Be(()=>{if(!o()||!f){m!==null&&(cancelAnimationFrame(m),m=null);return}x=0;const w=()=>{if(!o()||!f)return;const S=s()/100,y=i()*ue.autoscrollPixelsPerSecond*S/60;x+=y;const g=Math.floor(x);g>0&&(f.scrollTop+=g,x-=g),m=requestAnimationFrame(w)};return m=requestAnimationFrame(w),()=>{m!==null&&(cancelAnimationFrame(m),m=null)}});var R=Kl();er(R,21,()=>_(F),Qt,(w,S)=>{var y=Te(),g=ge(y);{var C=I=>{var L=Tl(),B=T(L);ee(()=>se(B,_(S).content)),N(I,L)},k=I=>{var L=Te(),B=ge(L);{var K=M=>{var V=Rl();N(M,V)},G=M=>{var V=Te(),W=ge(V);{var q=b=>{var A=Il(),j=T(A);ee(()=>se(j,_(S).content)),N(b,A)},Z=b=>{var A=Te(),j=ge(A);{var E=z=>{var X=Ol(),re=T(X);ee(()=>se(re,_(S).content)),N(z,X)},O=z=>{var X=Te(),re=ge(X);{var ie=Se=>{var Ue=jl(),ot=T(Ue);er(ot,21,()=>Array(_(S).maxPos).fill(" "),Qt,(it,ur,Wt)=>{var dr=Bl(),zt=ge(dr);{var Ut=lt=>{var St=Te(),Br=ge(St);er(Br,17,()=>_(S).chords.filter(Et=>Et.pos===Wt),Qt,(Et,Ne)=>{var at=Hl(),jr=T(at);{var De=Ct=>{var Gt=Dl(),vr=T(Gt);{var qr=ct=>{var hr=$l(),Vr=T(hr);ee(()=>se(Vr,(_(Ne).rootNumber+c()+8)%12)),N(ct,hr)};Y(vr,ct=>{a()&&_(Ne).rootNumber!==void 0&&ct(qr)})}var Zt=$(vr);ci(Zt,()=>_(Ne).svg),N(Ct,Gt)},Kr=Ct=>{var Gt=Te(),vr=ge(Gt);{var qr=Zt=>{var ct=Pl(),hr=T(ct),Vr=T(hr);ee(()=>{or(ct,"data-marker",_(Ne).markerId),se(Vr,_(Ne).word)}),N(Zt,ct)};Y(vr,Zt=>{_(Ne).word&&Zt(qr)},!0)}N(Ct,Gt)};Y(jr,Ct=>{_(Ne).svg?Ct(De):Ct(Kr,!1)})}ee(()=>or(at,"id",_(Ne).markerId)),N(Et,at)}),N(lt,St)};Y(zt,lt=>{_(S).chords?.some(St=>St.pos===Wt)&&lt(Ut)})}var Hr=$(zt,1,!0);ee(()=>se(Hr,_(ur))),N(it,dr)}),N(Se,Ue)};Y(re,Se=>{_(S).type==="chords"&&Se(ie)},!0)}N(z,X)};Y(j,z=>{_(S).type==="lyrics"?z(E):z(O,!1)},!0)}N(b,A)};Y(W,b=>{_(S).type==="subheading"?b(q):b(Z,!1)},!0)}N(M,V)};Y(B,M=>{_(S).type==="empty"?M(K):M(G,!1)},!0)}N(I,L)};Y(g,I=>{_(S).type==="heading"?I(C):I(k,!1)})}N(w,y)}),pn(R,w=>f=w,()=>f),ee(()=>hn(R,`font-size: ${s()??""}%; background-color: ${l()==="light"?"#ffffff":"#1e1e1e"}; color: ${l()==="light"?"#333333":"#e0e0e0"};`)),N(e,R),xe()}var Vl=P('<div class="chord-view-container svelte-nwbwap"><!></div>');function Kn(e,t){Fe(t,!0);const r=()=>oe(U,"$editorStore",s),n=()=>oe(kr,"$themeStore",s),[s,o]=ze();let i=Q(()=>r().zoomLevel),l=Q(()=>r().isAutoscrolling),a=Q(()=>r().autoscrollSpeed),c=Q(()=>r().keyNumber),f=Q(n);var u=Vl(),d=T(u);ql(d,{get content(){return t.content},get zoomLevel(){return _(i)},get isAutoscrolling(){return _(l)},get autoscrollSpeed(){return _(a)},get theme(){return _(f)},get showRootNumbers(){return t.showRootNumbers},get keyNumber(){return _(c)}}),N(e,u),xe(),o()}var Wl=P('<div class="editor-view svelte-19bccs7"><!></div>');function zl(e,t){Fe(t,!0);const r=()=>oe(U,"$editorStore",n),[n,s]=ze();let o=we(t,"content",15,""),i=Q(()=>r().viewMode);var l=Wl(),a=T(l);{var c=u=>{ml(u,{get content(){return o()},set content(d){o(d)}})},f=u=>{var d=Te(),v=ge(d);{var p=m=>{Kn(m,{get content(){return o()},showRootNumbers:!1})},F=m=>{var x=Te(),R=ge(x);{var w=S=>{Kn(S,{get content(){return o()},showRootNumbers:!0})};Y(R,S=>{_(i)==="chords"&&S(w)},!0)}N(m,x)};Y(v,m=>{_(i)==="structure"?m(p):m(F,!1)},!0)}N(u,d)};Y(a,u=>{_(i)==="text"?u(c):u(f,!1)})}N(e,l),xe(),s()}const Ul={C:4,c:4,"C#":11,"c#":11,Db:11,db:11,D:6,d:6,"D#":1,"d#":1,Eb:1,eb:1,E:8,e:8,F:3,f:3,"F#":10,"f#":10,Gb:10,gb:10,G:5,g:5,"G#":0,"g#":0,Ab:0,ab:0,A:7,a:7,"A#":2,"a#":2,Bb:2,bb:2,B:9,b:9};function zs(e){if(!e||e.trim()==="")return null;const t=e.trim(),r=parseInt(t);if(!isNaN(r)&&r>=0&&r<=11)return r;const n=t.toLowerCase(),s=n.endsWith("m")||n.includes("minor");let o=t.replace(/\s*(major|minor|m|maj|min)\s*/gi,"").trim();const i=Ul[o];return i===void 0?null:s?(i-3+12)%12:i}function Us(e){const t=e.split(`
`),r={title:Lt.defaultTitle,artist:Lt.defaultArtist,key:Lt.defaultKey,info:Lt.defaultInfo};let n=0,s=-1,o=!1,i="",l=!0;for(let u=0;u<t.length;u++){const v=t[u].trim();if(v===""&&l){n=u+1;continue}const p=v.indexOf(":");if(l&&p>0){const F=v.substring(0,p).trim(),m=v.substring(p+1).trim(),x=F.toLowerCase();x==="title"?(r.title=m,o=!0):x==="artist"?r.artist=m:x==="key"?(i=m,r.key=m):x==="info"?r.info=m:r[F]=m,n=u+1}else if(v!==""){if(s===-1&&(s=u),l=!1,o)break;break}}if(!o&&s>=0){const u=t[s].trim();r.title=u,n=s+1}const a=t.slice(n).join(`
`).trim();let c=null;i&&(c=zs(i));const f=Nl(e);return{metadata:r,specifiedKey:c,detectedKey:f,contentWithoutMetadata:a}}function Gs(e,t){const r=[],n=["title","artist","key","info"],s=e.title||Lt.defaultTitle;if(r.push(`Title: ${s}`),e.artist&&r.push(`Artist: ${e.artist}`),e.key&&e.key.trim()!==""){const o=zs(e.key);o!==null?r.push(`Key: ${o.toString()}`):r.push(`Key: ${e.key}`)}e.info&&r.push(`Info: ${e.info}`);for(const[o,i]of Object.entries(e))!n.includes(o.toLowerCase())&&typeof i=="string"&&r.push(`${o}: ${i}`);return r.length>0&&t.trim()&&(r.push(""),r.push("")),r.push(t.trim()),r.join(`
`)}function Sn(e){const t=Us(e);if(t.metadata.key&&/^\d+$/.test(t.metadata.key.trim())&&parseInt(t.metadata.key.trim())>=0&&parseInt(t.metadata.key.trim())<=11)return{updated:!1,content:e,keyNumber:parseInt(t.metadata.key.trim())};let n;return t.specifiedKey!==null?n=t.specifiedKey:n=t.detectedKey??0,t.metadata.key=n.toString(),{updated:!0,content:Gs(t.metadata,t.contentWithoutMetadata),keyNumber:n}}function Gl(e,t){const r=Sn(e),n=((r.keyNumber+t)%12+12)%12,s=Us(r.content);return s.metadata.key=n.toString(),{updated:!0,content:Gs(s.metadata,s.contentWithoutMetadata),keyNumber:n}}async function Zl(e){try{h.setLoading(!0);const t=await Vt(e);if(e.path.endsWith(".chords")){const r=Sn(t),n=r.updated?r.content:t;r.updated?(await wn(e,n),h.setCurrentContent(n)):h.setCurrentContent(t),U.loadContent(n,r.keyNumber)}else h.setCurrentContent(t),U.loadContent(t,0)}catch(t){throw h.setError(`Error loading file: ${t.message}`),t}finally{h.setLoading(!1)}}async function Pr(e,t){try{U.setSaving(!0),h.setError(null),await wn(e,t),h.setCurrentContent(t),U.setLastSavedContent(t),U.setSaveSuccess(!0),setTimeout(()=>{U.setSaveSuccess(!1)},2e3)}catch(r){throw h.setError(`Error saving file: ${r.message}`),r}finally{U.setSaving(!1)}}async function Yl(e,t,r){try{const n=Gl(t,r);U.setEditedContent(n.content),U.setKeyNumber(n.keyNumber),await Pr(e,n.content)}catch(n){throw console.error("Error transposing:",n),n}}async function Xl(e,t){if(t&&e.path.endsWith(".chords"))try{const r=Sn(t);r.updated?(U.setEditedContent(r.content),U.setKeyNumber(r.keyNumber),await Pr(e,r.content)):U.setKeyNumber(r.keyNumber)}catch(r){throw console.error("Error updating key metadata:",r),r}}var Jl=P('<div class="no-file-selected svelte-o5tkq6"><p>Select a file to start editing</p></div>'),Ql=P('<div class="error-message svelte-o5tkq6"> <button class="svelte-o5tkq6">Dismiss</button></div>'),ea=P('<div class="editor svelte-o5tkq6"><!> <!></div>');function ta(e,t){Fe(t,!0);const r=()=>oe(U,"$editorStore",o),n=()=>oe(h,"$fileStore",o),s=()=>oe(Hs,"$hasChanges",o),[o,i]=ze();let l=he(""),a=he(ut(r().viewMode)),c=he(null);Be(()=>{const m=n().currentFile;m&&m.path!==_(c)?(Zl(m),te(c,m.path,!0)):m||(U.reset(),te(l,""),te(c,null))}),Be(()=>{te(l,r().editedContent,!0)}),Be(()=>{_(l)!==r().editedContent&&U.setEditedContent(_(l))}),Be(()=>{const m=r().viewMode,x=n().currentFile;(m==="structure"||m==="chords")&&_(a)==="text"&&x&&Xl(x,_(l)),te(a,m,!0)}),Dr(()=>{function m(x){if((x.ctrlKey||x.metaKey)&&x.key==="s"){x.preventDefault();const R=n().currentFile,w=s();R&&w&&Pr(R,_(l))}}return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)});var f=ea(),u=T(f);{var d=m=>{zl(m,{get content(){return _(l)},set content(x){te(l,x,!0)}})},v=m=>{var x=Jl();N(m,x)};Y(u,m=>{n().currentFile?m(d):m(v,!1)})}var p=$(u,2);{var F=m=>{var x=Ql(),R=T(x),w=$(R);w.__click=()=>h.setError(null),ee(()=>se(R,`${n().error??""} `)),N(m,x)};Y(p,m=>{n().error&&m(F)})}N(e,f),xe(),i()}yt(["click"]);var ra=P('<div class="success-indicator svelte-126ac4t">â</div>'),na=P('<div class="control-section svelte-126ac4t"><button title="Text view">Text</button> <button title="Structure view">Structure</button> <button title="Chord view with numbers">Chords</button></div> <div class="control-section svelte-126ac4t"><h3 class="svelte-126ac4t">Zoom</h3> <div class="control-row svelte-126ac4t"><button title="Zoom out (Ctrl/-)" class="small-btn svelte-126ac4t">â</button> <span class="value svelte-126ac4t"> </span> <button title="Zoom in (Ctrl/+)" class="small-btn svelte-126ac4t">+</button></div></div> <div class="control-section svelte-126ac4t"><h3 class="svelte-126ac4t">Speed</h3> <button title="Toggle autoscroll"> </button> <div class="control-row svelte-126ac4t"><button title="Decrease speed" class="small-btn svelte-126ac4t">â</button> <span class="value svelte-126ac4t"> </span> <button title="Increase speed" class="small-btn svelte-126ac4t">+</button></div></div> <div class="control-section svelte-126ac4t"><h3 class="svelte-126ac4t">Transpose</h3> <div class="control-row svelte-126ac4t"><button title="Transpose down" class="small-btn svelte-126ac4t">â</button> <span class="value svelte-126ac4t">Key</span> <button title="Transpose up" class="small-btn svelte-126ac4t">+</button></div></div> <div class="control-section svelte-126ac4t"><button class="control-button svelte-126ac4t" title="Toggle dark/light mode"> </button> <button class="control-button svelte-126ac4t"> </button></div> <div class="control-section save-section svelte-126ac4t"><!> <button class="control-button save-button svelte-126ac4t" title="Save (Ctrl+S)"> </button></div>',1),sa=P('<div class="controls-sidebar svelte-126ac4t"><!></div>');function oa(e,t){Fe(t,!0);const r=()=>oe(kr,"$themeStore",i),n=()=>oe(U,"$editorStore",i),s=()=>oe(Hs,"$hasChanges",i),o=()=>oe(h,"$fileStore",i),[i,l]=ze();let a=Q(r),c=Q(()=>n().viewMode),f=Q(()=>n().zoomLevel),u=Q(()=>n().isAutoscrolling),d=Q(()=>n().autoscrollSpeed),v=Q(()=>n().isSaving),p=Q(()=>n().saveSuccess),F=Q(s),m=Q(()=>o().currentFile),x=Q(()=>n().editedContent);function R(){_(m)&&_(F)&&!_(v)&&Pr(_(m),_(x))}function w(C){_(m)&&_(x)&&Yl(_(m),_(x),C)}var S=sa(),y=T(S);{var g=C=>{var k=na(),I=ge(k),L=T(I);let B;L.__click=()=>U.setViewMode("text");var K=$(L,2);let G;K.__click=()=>U.setViewMode("structure");var M=$(K,2);let V;M.__click=()=>U.setViewMode("chords");var W=$(I,2),q=$(T(W),2),Z=T(q);Z.__click=()=>U.zoomOut();var b=$(Z,2),A=T(b),j=$(b,2);j.__click=()=>U.zoomIn();var E=$(W,2),O=$(T(E),2);O.__click=()=>U.toggleAutoscroll();let z;var X=T(O),re=$(O,2),ie=T(re);ie.__click=()=>U.decreaseAutoscrollSpeed();var Se=$(ie,2),Ue=T(Se),ot=$(Se,2);ot.__click=()=>U.increaseAutoscrollSpeed();var it=$(E,2),ur=$(T(it),2),Wt=T(ur);Wt.__click=()=>w(-7);var dr=$(Wt,4);dr.__click=()=>w(7);var zt=$(it,2),Ut=T(zt);Ut.__click=()=>kr.toggle();var Hr=T(Ut),lt=$(Ut,2);lt.__click=function(...De){t.toggleLeftSidebar?.apply(this,De)};var St=T(lt),Br=$(zt,2),Et=T(Br);{var Ne=De=>{var Kr=ra();N(De,Kr)};Y(Et,De=>{_(p)&&De(Ne)})}var at=$(Et,2);at.__click=R;var jr=T(at);ee(De=>{B=Xe(L,1,"control-button svelte-126ac4t",null,B,{active:_(c)==="text"}),G=Xe(K,1,"control-button svelte-126ac4t",null,G,{active:_(c)==="structure"}),V=Xe(M,1,"control-button svelte-126ac4t",null,V,{active:_(c)==="chords"}),se(A,`${_(f)??""}%`),z=Xe(O,1,"control-button svelte-126ac4t",null,z,{active:_(u)}),se(X,_(u)?"Pause":"Play"),ie.disabled=_(d)<=ue.minAutoscrollSpeed,se(Ue,`${De??""}x`),ot.disabled=_(d)>=ue.maxAutoscrollSpeed,se(Hr,_(a)==="dark"?"â":"ð"),or(lt,"title",t.leftSidebarVisible?"Hide file list":"Show file list"),se(St,t.leftSidebarVisible?"Hide Files":"Show Files"),at.disabled=!_(F)||_(v),se(jr,_(v)?"Saving...":"Save")},[()=>_(d).toFixed(1)]),N(C,k)};Y(y,C=>{_(m)&&C(g)})}N(e,S),xe(),l()}yt(["click"]);var ia=P('<aside class="left-sidebar svelte-1n46o8q"><h1 class="svelte-1n46o8q">Chord Converter</h1> <!> <!></aside>'),la=P('<div class="app-container svelte-1n46o8q"><div class="main-content svelte-1n46o8q"><!> <main class="editor-area svelte-1n46o8q"><!></main> <aside class="right-sidebar svelte-1n46o8q"><!></aside></div></div>');function aa(e,t){Fe(t,!0);let r=he(!0);function n(){te(r,!_(r))}Dr(async()=>{"showDirectoryPicker"in window||alert("In this browser you can not connect the app to a local folder. For full functionality, please use Chrome or Edge on a computer.");try{const v=await Ds();if(v.length>0){h.setFiles(v);const p=v[0];h.setCurrentFile(p),h.setCurrentContent(String(p.content||""))}}catch(v){console.error("Error loading browser files:",v)}});var s=la(),o=T(s),i=T(o);{var l=d=>{var v=ia(),p=$(T(v),2);rl(p,{});var F=$(p,2);vl(F,{}),N(d,v)};Y(i,d=>{_(r)&&d(l)})}var a=$(i,2),c=T(a);ta(c,{});var f=$(a,2),u=T(f);oa(u,{toggleLeftSidebar:n,get leftSidebarVisible(){return _(r)}}),ee(()=>hn(s,`
  --sidebar-left-bg: ${kt.leftSidebarBg};
  --sidebar-left-border: ${kt.leftSidebarBorder};
  --sidebar-left-text: ${kt.leftSidebarText};
  --sidebar-right-bg: ${kt.rightSidebarBg};
  --sidebar-right-border: ${kt.rightSidebarBorder};
  --sidebar-right-text: ${kt.rightSidebarText};
`)),N(e,s),xe()}si(aa,{target:document.getElementById("app")});
